"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[170],{8679:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var l=a(6252),n=a(3577);const i=(0,l._)("div",{class:"button-items d-flex flex-wrap gap-2"},[(0,l._)("a",{class:"btn btn-primary",href:"https://back.comficaconect.com/importdiary",role:"button",target:"_blank"},"Importar Agendas"),(0,l._)("a",{class:"btn btn-primary",href:"https://back.comficaconect.com/importaudit",role:"button",target:"_blank"},"Importar Auditorias"),(0,l._)("a",{class:"btn btn-primary",href:"https://back.comficaconect.com/importevidence",role:"button",target:"_blank"},"Importar Evidencias")],-1),s=(0,l._)("i",{class:"bx bx-check-circle"},null,-1),r={key:0,style:{"background-color":"#f1b44c"}},o={key:1},c=(0,l._)("i",{class:"bx bx-check-circle"},null,-1),u={key:0,style:{"background-color":"#f1b44c"}},m={key:1};function d(t,e,a,d,w,g){const p=(0,l.up)("BCardBody"),h=(0,l.up)("BCard"),b=(0,l.up)("BCol"),f=(0,l.up)("BCardTitle"),_=(0,l.up)("BCarouselSlide"),D=(0,l.up)("BCarousel"),y=(0,l.up)("BRow"),k=(0,l.up)("BCardHeader"),C=(0,l.up)("Layout");return(0,l.wg)(),(0,l.j4)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{lg:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{"no-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[i])),_:1})])),_:1})])),_:1}),(0,l.Wm)(b,{lg:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.tableData,(t=>((0,l.wg)(),(0,l.j4)(b,{cols:"12",key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{onClick:e=>g.handleCardClick(t.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{innerHTML:t.title},null,8,["innerHTML"]),(0,l.Wm)(f,{innerHTML:g.truncateText(t.description,30)},null,8,["innerHTML"]),(0,l.Wm)(D,{interval:3e3,style:{"text-shadow":"0px 0px 2px #000",width:"75%",margin:"0 auto"},controls:"",id:"carousel"+t.id},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.images,(t=>((0,l.wg)(),(0,l.j4)(_,{key:t.id,"img-src":g.getFullImageUrl(t.url)},null,8,["img-src"])))),128))])),_:2},1032,["id"])])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,l.Wm)(b,{lg:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{"np-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{sm:"7"},{default:(0,l.w5)((()=>[s,(0,l.Uk)("   Reserva de salas ")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,n.zw)(w.DiaActual),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.TablaReservas,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"table-responsive mb-0",key:e},[w.fecha_actual===t.date?((0,l.wg)(),(0,l.iD)("li",r,(0,n.zw)(t.date)+" | "+(0,n.zw)(t.start_time)+" - "+(0,n.zw)(t.end_time)+" | "+(0,n.zw)(t.user),1)):((0,l.wg)(),(0,l.iD)("li",o,(0,n.zw)(t.date)+" | "+(0,n.zw)(t.start_time)+" - "+(0,n.zw)(t.end_time)+" | "+(0,n.zw)(t.user),1))])))),128))])),_:1})])),_:1})])),_:1}),(0,l.Wm)(b,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{"np-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{sm:"7"},{default:(0,l.w5)((()=>[c,(0,l.Uk)("   Cumpleaños ")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,n.zw)(w.DiaActual),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.TablaCumpleanios,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"table-responsive mb-0",key:e},[w.fecha_actual===t.date?((0,l.wg)(),(0,l.iD)("li",u,(0,n.zw)(t.date)+" | "+(0,n.zw)(t.username),1)):((0,l.wg)(),(0,l.iD)("li",m,(0,n.zw)(t.date)+" | "+(0,n.zw)(t.username),1))])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(560);var w=a(5705),g=a(760),p=a(4642),h={components:{Layout:p.Z},setup(){return{v$:(0,w.Xw)()}},data(){return{title:"Calendar",items:[{text:"Minible"},{text:"Calendar",active:!0}],TablaReservas:[],TablaCumpleanios:[],currentEvents:[],tableData:[],DiaActual:null,fecha_actual:null}},validations:{event:{title:{required:g.C1},category:{required:g.C1}}},mounted(){this.getData(),this.getData2(),this.getDataNews(),this.obtenerSemanaActual()},computed:{truncatedTitle(){return console.log(this.newsItem),this.newsItem&&this.newsItem.title&&this.newsItem.title.length>30?this.newsItem.title.substring(0,30)+"... ver más":""},truncatedDescription(){return this.newsItem&&this.newsItem.description&&this.newsItem.description.length>30?this.newsItem.description.substring(0,30)+"... ver más":""}},methods:{async getDataNews(){try{const t=await this.$http.get(this.$apiURL+"news/principal");t.data.data.map((t=>this.tableData.push({...t})))}catch(t){console.error(t)}},getFullImageUrl(t){return console.log(t),this.$storageURL+"/"+t},async getData(){try{const t=await this.$http.get(this.$apiURL+"technical/listweekbirthdays");t.data.data.map((t=>this.TablaCumpleanios.push({...t}))),this.TablaCumpleanios=t.data.data.map((t=>{const e=new Date(t.Fecha_Nacimiento+"T00:00:00Z"),a=`${e.getUTCDate()} de ${e.toLocaleString("es-PE",{month:"long",timeZone:"America/Lima"})}`;return{username:t.Nombre_Completo,date:a}}))}catch(t){console.error(t)}},obtenerSemanaActual(){const t=new Date,e=new Date(t.setDate(t.getDate()-t.getDay()+(0===t.getDay()?-6:1))),a=new Date(t.setDate(t.getDate()-t.getDay()+7)),l={weekday:"long",day:"numeric",month:"long"},n=e.toLocaleDateString("es-ES",l),i=a.toLocaleDateString("es-ES",l);this.DiaActual=`Semana del ${n} al ${i}`;const s=new Date,r=`${s.getDate()} de ${s.toLocaleString("es-PE",{month:"long",timeZone:"America/Lima"})}`;this.fecha_actual=r},async getData2(){try{const t=await this.$http.get(this.$apiURL+"reservation/listweek");console.log(t),this.TablaReservas=t.data.data.map((t=>{const e=t.start_time.slice(0,5),a=t.end_time.slice(0,5);console.log(t.date);const l=new Date(t.date+"T00:00:00Z"),n=`${l.getUTCDate()} de ${l.toLocaleString("es-PE",{month:"long",timeZone:"America/Lima"})}`;return{nombre:t.title,start_time:e,end_time:a,date:n,user:t.user.username}}))}catch(t){console.error(t)}},truncateText(t,e){return t.length>e?t.substring(0,e)+"... ver más":t},handleCardClick(){}}},b=a(3744);const f=(0,b.Z)(h,[["render",d]]);var _=f}}]);
//# sourceMappingURL=170.4353bb2e.js.map