"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[945],{7305:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(6252),n=a(3577);const i=(0,l._)("i",{class:"bx bx-check-circle"},null,-1),s={key:0,style:{"background-color":"#f1b44c"}},r={key:1},o=(0,l._)("i",{class:"bx bx-check-circle"},null,-1),u={key:0,style:{"background-color":"#f1b44c"}},c={key:1},d={key:0},m=["innerHTML"],w=["innerHTML"];function g(e,t,a,g,h,p){const f=(0,l.up)("BCardTitle"),D=(0,l.up)("BCarouselSlide"),_=(0,l.up)("BCarousel"),b=(0,l.up)("BCardBody"),y=(0,l.up)("BCard"),k=(0,l.up)("BCol"),C=(0,l.up)("BRow"),v=(0,l.up)("BCardHeader"),T=(0,l.up)("BModal"),W=(0,l.up)("Layout");return(0,l.wg)(),(0,l.j4)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{lg:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.tableData,(e=>((0,l.wg)(),(0,l.j4)(k,{cols:"12",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{onClick:t=>p.handleCardClick(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{innerHTML:e.title},null,8,["innerHTML"]),(0,l.Wm)(f,{innerHTML:p.truncateText(e.description,30)},null,8,["innerHTML"]),(0,l.Wm)(_,{interval:3e3,style:{"text-shadow":"0px 0px 2px #000",width:"75%",margin:"0 auto"},controls:"",id:"carousel"+e.id},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.images,(e=>((0,l.wg)(),(0,l.j4)(D,{key:e.id,"img-src":p.getFullImageUrl(e.url)},null,8,["img-src"])))),128))])),_:2},1032,["id"])])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,l.Wm)(k,{lg:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{"np-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{sm:"7"},{default:(0,l.w5)((()=>[i,(0,l.Uk)("   Reserva de salas ")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,n.zw)(h.DiaActual),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.TablaReservas,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"table-responsive mb-0",key:t},[h.fecha_actual===e.date?((0,l.wg)(),(0,l.iD)("li",s,(0,n.zw)(e.date)+" | "+(0,n.zw)(e.start_time)+" - "+(0,n.zw)(e.end_time)+" | "+(0,n.zw)(e.user),1)):((0,l.wg)(),(0,l.iD)("li",r,(0,n.zw)(e.date)+" | "+(0,n.zw)(e.start_time)+" - "+(0,n.zw)(e.end_time)+" | "+(0,n.zw)(e.user),1))])))),128))])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{"np-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{sm:"7"},{default:(0,l.w5)((()=>[o,(0,l.Uk)("   Cumpleaños ")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,n.zw)(h.DiaActual),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.TablaCumpleanios,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"table-responsive mb-0",key:t},[h.fecha_actual===e.date?((0,l.wg)(),(0,l.iD)("li",u,(0,n.zw)(e.date)+" | "+(0,n.zw)(e.username),1)):((0,l.wg)(),(0,l.iD)("li",c,(0,n.zw)(e.date)+" | "+(0,n.zw)(e.username),1))])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(T,{modelValue:h.isModalOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>h.isModalOpen=e),title:"Detalles de la Noticia",size:"lg","hide-footer":""},{default:(0,l.w5)((()=>[e.currentNews?((0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("h5",{innerHTML:e.currentNews.title},null,8,m),(0,l._)("p",{innerHTML:e.currentNews.description},null,8,w),e.currentNews.images&&e.currentNews.images.length?((0,l.wg)(),(0,l.j4)(_,{key:0,interval:3e3,controls:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.currentNews.images,(e=>((0,l.wg)(),(0,l.j4)(D,{key:e.id,"img-src":p.getFullImageUrl(e.url)},null,8,["img-src"])))),128))])),_:1})):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),_:1},8,["modelValue"])])),_:1})}a(560);var h=a(5705),p=a(760),f=a(4642),D={components:{Layout:f.Z},setup(){return{v$:(0,h.Xw)()}},data(){return{title:"Calendar",items:[{text:"Minible"},{text:"Calendar",active:!0}],TablaReservas:[],TablaCumpleanios:[],currentEvents:[],tableData:[],DiaActual:null,fecha_actual:null,isModalOpen:!1}},validations:{event:{title:{required:p.C1},category:{required:p.C1}}},mounted(){this.getData(),this.getData2(),this.getDataNews(),this.obtenerSemanaActual()},computed:{truncatedTitle(){return console.log(this.newsItem),this.newsItem&&this.newsItem.title&&this.newsItem.title.length>30?this.newsItem.title.substring(0,30)+"... ver más":""},truncatedDescription(){return this.newsItem&&this.newsItem.description&&this.newsItem.description.length>30?this.newsItem.description.substring(0,30)+"... ver más":""}},methods:{async getDataNews(){try{const e=await this.$http.get(this.$apiURL+"news/principal");e.data.data.map((e=>this.tableData.push({...e})))}catch(e){console.error(e)}},getFullImageUrl(e){return console.log(e),this.$storageURL+"/"+e},async getData(){try{const e=await this.$http.get(this.$apiURL+"technical/listweekbirthdays");e.data.data.map((e=>this.TablaCumpleanios.push({...e}))),this.TablaCumpleanios=e.data.data.map((e=>{const t=new Date(e.Fecha_Nacimiento+"T00:00:00Z"),a=`${t.getUTCDate()} de ${t.toLocaleString("es-PE",{month:"long",timeZone:"America/Lima"})}`;return{username:e.Nombre_Completo,date:a}}))}catch(e){console.error(e)}},obtenerSemanaActual(){const e=new Date,t=new Date(e.setDate(e.getDate()-e.getDay()+(0===e.getDay()?-6:1))),a=new Date(e.setDate(e.getDate()-e.getDay()+7)),l={weekday:"long",day:"numeric",month:"long"},n=t.toLocaleDateString("es-ES",l),i=a.toLocaleDateString("es-ES",l);this.DiaActual=`Semana del ${n} al ${i}`;const s=new Date,r=`${s.getDate()} de ${s.toLocaleString("es-PE",{month:"long",timeZone:"America/Lima"})}`;this.fecha_actual=r},async getData2(){try{const e=await this.$http.get(this.$apiURL+"reservation/listweek");console.log(e),this.TablaReservas=e.data.data.map((e=>{const t=e.start_time.slice(0,5),a=e.end_time.slice(0,5);console.log(e.date);const l=new Date(e.date+"T00:00:00Z"),n=`${l.getUTCDate()} de ${l.toLocaleString("es-PE",{month:"long",timeZone:"America/Lima"})}`;return{nombre:e.title,start_time:t,end_time:a,date:n,user:e.user.username}}))}catch(e){console.error(e)}},truncateText(e,t){return e.length>t?e.substring(0,t)+"... ver más":e},handleCardClick(e){console.log(e),this.currentNews={...e},this.isModalOpen=!0}}},_=a(3744);const b=(0,_.Z)(D,[["render",g]]);var y=b}}]);
//# sourceMappingURL=945.47ac9f57.js.map