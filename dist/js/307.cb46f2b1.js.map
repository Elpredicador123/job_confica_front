{"version":3,"file":"js/307.cb46f2b1.js","mappings":"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","sources":["webpack://minible/./src/components/page-header.vue","webpack://minible/./src/components/page-header.vue?46f7","webpack://minible/./src/views/pages/usuarios/create.vue","webpack://minible/./src/views/pages/usuarios/create.vue?e39e"],"sourcesContent":["<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n    items: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n};\n</script>\n\n<template>\n  <!-- start page title -->\n  <BRow>\n    <BCol cols=\"12\">\n      <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n        <h4 class=\"mb-0\">{{ title }}</h4>\n\n        <div class=\"page-title-right\">\n          <b-breadcrumb :items=\"items\" class=\"m-0\"></b-breadcrumb>\n        </div>\n      </div>\n    </BCol>\n  </BRow>\n  <!-- end page title -->\n</template>","import { render } from \"./page-header.vue?vue&type=template&id=54cf7699\"\nimport script from \"./page-header.vue?vue&type=script&lang=js\"\nexport * from \"./page-header.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { required } from \"@vuelidate/validators\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\n/**\r\n * Register component\r\n */\r\nexport default {\r\n  components: { \r\n        Multiselect,\r\n        Layout,\r\n        PageHeader\r\n    },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: \"user.name\",\r\n        password: \"\",\r\n        role_id : \"\",\r\n      },\r\n      roles: [],\r\n      submitted: false,\r\n      tryingToRegister: false,\r\n      isRegisterError: false,\r\n      title: \"NUEVO USUARIO\"\r\n    };\r\n  },\r\n  validations: {\r\n    user: {\r\n      username: {\r\n        required\r\n      },\r\n      password: {\r\n        required\r\n      },\r\n      role_id: { \r\n        required\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    notification() {\r\n      return this.$store ? this.$store.state.notification : null;\r\n    },\r\n    notificationAutoCloseDuration() {\r\n      return this.$store && this.$store.state.notification ? 5 : 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getRol();\r\n  },\r\n  methods: {\r\n    async getRol(){\r\n      try {\r\n        const response = await this.$http.get(this.$apiURL + 'role/all');\r\n        const rolesData = response.data.data;\r\n            rolesData.forEach(role => {\r\n                this.roles.push(role);\r\n            });\r\n            console.log(this.roles)\r\n    } catch (error) {\r\n        console.error('Error fetching roles:', error);\r\n    }\r\n    },\r\n    // Try to register the user in with the email, username\r\n    // and password they provided.\r\n    tryToRegisterIn() {\r\n      this.submitted = true;\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n          const { username, password } = this.user;\r\n          if (username && password) {\r\n            this.$http.post(this.$apiURL+'user/store', this.user, {\r\n            }).then(response => {\r\n                if(response.status == 200){                  \r\n                  this.$swal({\r\n                      title: 'Completado!',\r\n                      text:  response.data.message,\r\n                      icon: 'success',\r\n                      confirmButtonColor: '#6457A2', // Cambiar el color del botón de confirmación\r\n                  });\r\n                  setTimeout(() => {\r\n                        window.location.reload();\r\n                    }, 2000);\r\n                }\r\n            }).catch(error => {\r\n                console.error(error);\r\n                  this.$swal({\r\n                    icon: \"error\",\r\n                    title: \"Oops...\",\r\n                    text: error,\r\n                  });\r\n            });\r\n          }\r\n          \r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n    <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n    <BRow>\r\n        <BCol cols=\"12\">\r\n            <BCard no-body>\r\n                <BCardBody>\r\n                    <BCardTitle>Registrar usuario</BCardTitle>\r\n                        <form autocomplete=\"off\"\r\n                            class=\"row no-gutters\"\r\n                            @submit.prevent=\"submit\">\r\n                        <BRow>\r\n                            <BCol lg=\"4\">\r\n                                <div class=\"mt-4\">\r\n                                    <BFormGroup\r\n                                        id=\"email-group\"\r\n                                        label=\"Usuario\"\r\n                                        class=\"mb-3\"\r\n                                        label-for=\"username\">\r\n                                        <BFormInput\r\n                                            id=\"username\"\r\n                                            v-model=\"user.username\"\r\n                                            type=\"text\"\r\n                                            placeholder=\"Ingresar usuario\"\r\n                                            :class=\"{\r\n                                            'is-invalid': submitted && v$.user.username.$error\r\n                                            }\"\r\n                                        ></BFormInput>\r\n                                        <div v-if=\"submitted && v$.user.username.required.$invalid\"\r\n                                            class=\"invalid-feedback\">\r\n                                            Usuario es requerido.\r\n                                        </div>\r\n                                    </BFormGroup>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol lg=\"4\">\r\n                                <div class=\"mt-4\">\r\n                                    <BFormGroup\r\n                                        id=\"password-group\"\r\n                                        label=\"Contraseña\"\r\n                                        class=\"mb-3\"\r\n                                        label-for=\"password\"\r\n                                        >\r\n                                        <BFormInput\r\n                                            id=\"password\"\r\n                                            v-model=\"user.password\"\r\n                                            type=\"password\"\r\n                                            placeholder=\"Ingresar contraseña\"\r\n                                            :class=\"{\r\n                                            'is-invalid': submitted && v$.user.password.$error\r\n                                            }\"\r\n                                        ></BFormInput>\r\n                                        <div\r\n                                            v-if=\"submitted && v$.user.password.required.$invalid\"\r\n                                            class=\"invalid-feedback\"\r\n                                        >\r\n                                            Contraseña es requerida.\r\n                                        </div>\r\n                                    </BFormGroup>\r\n                                </div>\r\n                            </BCol>\r\n                            <BCol lg=\"4\">\r\n                                <div class=\"mt-4\">\r\n                                    <BFormGroup\r\n                                        label=\"Rol\"\r\n                                        label-for=\"formrow-firstname-input\"\r\n                                        class=\"mb-12\">\r\n                                        <Multiselect\r\n                                            v-model=\"user.role_id\"\r\n                                            required\r\n                                            :options=\"roles.map(role => ({ value: role.id, label: role.description }))\"\r\n                                            class=\"form-control p-0\"\r\n                                        />\r\n                                    </BFormGroup>\r\n                                </div>\r\n                            </BCol>\r\n                        </BRow>\r\n                        <div class=\"mt-3 text-end\">\r\n                            <BButton\r\n                                variant=\"primary\"\r\n                                class=\"w-sm\"\r\n                                @click=\"tryToRegisterIn\"\r\n                                >Register\r\n                            </BButton>\r\n                        </div>\r\n                    </form>\r\n                </BCardBody>\r\n            </BCard>\r\n        </BCol>\r\n    </BRow>\r\n</Layout>\r\n</template>","import { render } from \"./create.vue?vue&type=template&id=7ab37c2b\"\nimport script from \"./create.vue?vue&type=script&lang=js\"\nexport * from \"./create.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createBlock","_component_BRow","default","_withCtx","_createVNode","_component_BCol","cols","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","$props","title","_hoisted_3","_component_b_breadcrumb","items","_","props","type","String","Array","__exports__","render","key","_component_Layout","_component_PageHeader","$data","_ctx","_component_BCard","_component_BCardBody","_component_BCardTitle","_createTextVNode","autocomplete","onSubmit","_cache","_withModifiers","args","submit","lg","_component_BFormGroup","id","label","_component_BFormInput","modelValue","user","username","$event","placeholder","_normalizeClass","submitted","$setup","v$","$error","required","$invalid","_createElementBlock","_createCommentVNode","password","_hoisted_4","_hoisted_5","_component_Multiselect","role_id","options","roles","map","role","value","description","_hoisted_6","_component_BButton","variant","onClick","$options","tryToRegisterIn","components","Multiselect","Layout","PageHeader","setup","useVuelidate","data","tryingToRegister","isRegisterError","validations","computed","notification","this","$store","state","notificationAutoCloseDuration","mounted","getRol","methods","response","$http","get","$apiURL","rolesData","forEach","push","console","log","error","$touch","post","then","status","$swal","text","message","icon","confirmButtonColor","setTimeout","window","location","reload","catch"],"sourceRoot":""}