"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[260],{2820:function(e,o,l){l.r(o),l.d(o,{default:function(){return x}});var t=l(6252),a=l(9963);const r=(0,t._)("i",{class:"bx bx-check-circle"},null,-1),i={class:"mt-4"},m={class:"mt-4"},n={class:"mt-4"},s={class:"mt-4"},u={class:"mt-4"},d={class:"mt-4"},f={class:"mt-4"},c={class:"mt-4"},p={class:"mt-4"},_={class:"mt-4"},b={class:"mt-4"},w={class:"mt-4"};function W(e,o,l,W,h,v){const V=(0,t.up)("PageHeader"),g=(0,t.up)("BCol"),q=(0,t.up)("BRow"),y=(0,t.up)("BCardHeader"),C=(0,t.up)("BFormInput"),U=(0,t.up)("BFormGroup"),x=(0,t.up)("Multiselect"),B=(0,t.up)("BButton"),k=(0,t.up)("BCardBody"),N=(0,t.up)("BCard"),S=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(V,{title:e.title,items:e.items},null,8,["title","items"]),(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{cols:"12"},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{"no-body":""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{sm:"7"},{default:(0,t.w5)((()=>[r,(0,t.Uk)("   Registro de ordenes ")])),_:1}),(0,t.Wm)(g,{sm:"5"})])),_:1})])),_:1}),(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t._)("form",{autocomplete:"off",class:"row no-gutters",onSubmit:o[12]||(o[12]=(0,a.iM)(((...e)=>v.submit&&v.submit(...e)),["prevent"]))},[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(U,{label:"Codigo de requerimiento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{type:"text",modelValue:h.form.codigo_requerimiento,"onUpdate:modelValue":o[0]||(o[0]=e=>h.form.codigo_requerimiento=e),placeholder:"CÒDIGO SIN ESPACIOS",required:"",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(U,{label:"Tipo de requerimiento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{modelValue:h.form.tipo_requerimiento,"onUpdate:modelValue":o[1]||(o[1]=e=>h.form.tipo_requerimiento=e),options:h.requerimientos,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t.Wm)(U,{label:"Tipo de cierre","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{modelValue:h.form.tipo_cierre,"onUpdate:modelValue":o[2]||(o[2]=e=>h.form.tipo_cierre=e),required:"",options:h.cierres,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t.Wm)(U,{label:"CF Técnico","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:h.form.cf,"onUpdate:modelValue":o[3]||(o[3]=e=>h.form.cf=e),required:"",type:"text",onInput:o[4]||(o[4]=e=>v.getTecnicos()),id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t.Wm)(U,{label:"Técnico","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:h.form.tecnico,"onUpdate:modelValue":o[5]||(o[5]=e=>h.form.tecnico=e),required:"",type:"text",id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t.Wm)(U,{label:"Zonal","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{type:"text",required:"",modelValue:h.form.zonal,"onUpdate:modelValue":o[6]||(o[6]=e=>h.form.zonal=e),id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",f,[(0,t.Wm)(U,{label:"Número de referencia","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:h.form.numero_referencia,"onUpdate:modelValue":o[7]||(o[7]=e=>h.form.numero_referencia=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t.Wm)(U,{label:"Efectividad","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{modelValue:h.form.efectividad,"onUpdate:modelValue":o[8]||(o[8]=e=>h.form.efectividad=e),options:h.efectividades,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.Wm)(U,{label:"Nota NPS","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{modelValue:h.form.nota_nps,"onUpdate:modelValue":o[9]||(o[9]=e=>h.form.nota_nps=e),required:"",options:h.notas,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t.Wm)(U,{label:"Posible detractor","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{modelValue:h.form.detractor,"onUpdate:modelValue":o[10]||(o[10]=e=>h.form.detractor=e),required:"",options:h.posibles,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(g,{lg:"12"},{default:(0,t.w5)((()=>[(0,t._)("div",b,[(0,t.Wm)(U,{label:"Tipo de cierre","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("textarea",{id:"message","onUpdate:modelValue":o[11]||(o[11]=e=>h.form.observaciones=e),class:"form-control"},null,512),[[a.nr,h.form.observaciones]])])),_:1})])])),_:1})])),_:1}),(0,t._)("div",w,[(0,t.Wm)(B,{type:"submit",variant:"primary",onSubmit:(0,a.iM)(v.submit,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Uk)("Guardar")])),_:1},8,["onSubmit"])])],32)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var h=l(4642),v=l(1022),V=l(7091),g=l(381),q=l.n(g),y={components:{Layout:h.Z,PageHeader:v.Z,Multiselect:V.Z},data(){return{value:null,requerimientos:["Alta","Averia"],cierres:["Completado","Suspendido","Devuelto","Pendiente"],efectividades:["Efectiva","Inefectiva","Inefectiva recuperada"],notas:["Detractor (0-5)","Neutro (6-7)","Promotor (8-9)","No aplica"],posibles:["Si","No","No aplica"],form:{}}},mounted(){this.initForm()},methods:{initForm(){this.form={zonal:null,tecnico:null,cf:"",codigo_requerimiento:null,tipo_requerimiento:null,tipo_cierre:null,numero_referencia:null,efectividad:null,nota_nps:null,detractor:null,observaciones:null,contrata:"",usuario:"admin",fecha:q()().format("YYYY-MM-DD")}},async getTecnicos(){try{this.$nextTick((async()=>{if(console.log(this.form.cf),""==this.form.cf)this.form.tecnico=null,this.form.zonal=null,this.form.contrata=null;else{const e=await this.$http.get(this.$apiURL+"technical/carnet/"+this.form.cf);null!=e.data&&e.data.data?(this.form.tecnico=e.data.data.Nombre_Completo||null,this.form.zonal=e.data.data.Zonal||null,this.form.contrata=e.data.data.Contrata||null):(this.form.tecnico=null,this.form.zonal=null,this.form.contrata=null)}}))}catch(e){console.error(e)}},async submit(){this.$http.post(this.$apiURL+"order/store",this.form,{}).then((e=>{200==e.status&&(console.log(e),this.$swal({title:"Completado!",text:e.data.message,icon:"success",confirmButtonColor:"#6457A2"}),this.$swal("Completado!",e.data.message,"success"),this.initForm())})).catch((e=>{console.error(e),this.$swal({icon:"error",title:"Oops...",text:e})}))}},middleware:"authentication"},C=l(3744);const U=(0,C.Z)(y,[["render",W]]);var x=U}}]);
//# sourceMappingURL=260.ce08a702.js.map