"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[87],{1022:function(e,t,a){a.d(t,{Z:function(){return u}});var s=a(6252),l=a(3577);const r={class:"page-title-box d-flex align-items-center justify-content-between"},i={class:"mb-0"},o={class:"page-title-right"};function n(e,t,a,n,d,m){const c=(0,s.up)("b-breadcrumb"),u=(0,s.up)("BCol"),p=(0,s.up)("BRow");return(0,s.wg)(),(0,s.j4)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("h4",i,(0,l.zw)(a.title),1),(0,s._)("div",o,[(0,s.Wm)(c,{items:a.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var d={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},m=a(3744);const c=(0,m.Z)(d,[["render",n]]);var u=c},408:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var s=a(6252);const l={id:"tickets-table_length",class:"dataTables_length"},r={class:"d-inline-flex align-items-center"},i={class:"col-sm-12 col-md-6"},o={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},n={class:"d-inline-flex align-items-center"},d={class:"table-responsive mb-0"},m={class:"dataTables_paginate paging_simple_numbers float-end"},c={class:"pagination pagination-rounded mb-0"},u={id:"tickets-table_length",class:"dataTables_length"},p={class:"d-inline-flex align-items-center"},g={class:"col-sm-12 col-md-6"},h={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},f={class:"d-inline-flex align-items-center"},b={class:"table-responsive mb-0"},_={class:"dataTables_paginate paging_simple_numbers float-end"},w={class:"pagination pagination-rounded mb-0"},O={class:"row"},G={id:"tickets-table_length",class:"dataTables_length"},W={class:"d-inline-flex align-items-center"},y={class:"col-sm-12 col-md-6"},P={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},I={class:"d-inline-flex align-items-center"},T={class:"table-responsive mb-0"},V={class:"dataTables_paginate paging_simple_numbers float-end"},v={class:"pagination pagination-rounded mb-0"},k={id:"tickets-table_length",class:"dataTables_length"},U={class:"d-inline-flex align-items-center"},S={class:"col-sm-12 col-md-6"},R={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},D={class:"d-inline-flex align-items-center"},F={class:"table-responsive mb-0"},x={class:"dataTables_paginate paging_simple_numbers float-end"},B={class:"pagination pagination-rounded mb-0"};function C(e,t,a,C,M,$){const A=(0,s.up)("PageHeader"),L=(0,s.up)("BCardTitle"),z=(0,s.up)("BCol"),J=(0,s.up)("BFormSelect"),N=(0,s.up)("BRow"),Z=(0,s.up)("BFormInput"),j=(0,s.up)("BTable"),E=(0,s.up)("BPagination"),H=(0,s.up)("BCardBody"),q=(0,s.up)("BCard"),K=(0,s.up)("Layout");return(0,s.wg)(),(0,s.j4)(K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{title:M.title,items:M.items},null,8,["title","items"]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Avance instalaciones")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"7"}),(0,s.Wm)(z,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:M.ciudadId,"onUpdate:modelValue":t[0]||(t[0]=e=>M.ciudadId=e),size:"sm",options:M.Ciudades,onChange:t[1]||(t[1]=e=>$.getTableInstalaciones())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("label",r,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:M.perPage,"onUpdate:modelValue":t[2]||(t[2]=e=>M.perPage=e),size:"sm",options:M.pageOptions},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",i,[(0,s._)("div",o,[(0,s._)("label",n,[(0,s.Uk)(" Search: "),(0,s.Wm)(Z,{modelValue:M.filter,"onUpdate:modelValue":t[3]||(t[3]=e=>M.filter=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",d,[(0,s.Wm)(j,{items:M.TableInstalaciones,fields:M.fields,responsive:"sm","per-page":M.perPage,"current-page":M.currentPage,"sort-by":M.sortBy,"sort-desc":M.sortDesc,filter:M.filter,"filter-included-fields":M.filterOn,onFiltered:$.onFiltered},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",m,[(0,s._)("ul",c,[(0,s.Wm)(E,{modelValue:M.currentPage,"onUpdate:modelValue":t[4]||(t[4]=e=>M.currentPage=e),"total-rows":M.totalRows,"per-page":M.perPage},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Ordenes por gestor instalaciones")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"7"}),(0,s.Wm)(z,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:M.GestorAgendaId,"onUpdate:modelValue":t[5]||(t[5]=e=>M.GestorAgendaId=e),size:"sm",options:M.GestorAgenda,onChange:t[6]||(t[6]=e=>$.getTableGestor())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",u,[(0,s._)("label",p,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:M.perPageGestor,"onUpdate:modelValue":t[7]||(t[7]=e=>M.perPageGestor=e),size:"sm",options:M.pageOptionsGestor},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("label",f,[(0,s.Uk)(" Search: "),(0,s.Wm)(Z,{modelValue:M.filterGestor,"onUpdate:modelValue":t[8]||(t[8]=e=>M.filterGestor=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",b,[(0,s.Wm)(j,{items:M.tableDataGestor,fields:M.fieldsGestor,responsive:"sm","per-page":M.perPageGestor,"current-page":M.currentPageGestor,"sort-by":M.sortByGestor,"sort-desc":M.sortDescGestor,filter:M.filterGestor,"filter-included-fields":M.filterOnGestor,onFiltered:$.onFilteredGestor},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",_,[(0,s._)("ul",w,[(0,s.Wm)(E,{modelValue:M.currentPageGestor,"onUpdate:modelValue":t[9]||(t[9]=e=>M.currentPageGestor=e),"total-rows":M.totalRowsGestor,"per-page":M.perPageGestor},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s._)("div",O,[(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Avance Mantenimientos")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"7"}),(0,s.Wm)(z,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:M.ciudadId2,"onUpdate:modelValue":t[10]||(t[10]=e=>M.ciudadId2=e),size:"sm",options:M.Ciudades,onChange:t[11]||(t[11]=e=>$.getTableMantenimientos())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",G,[(0,s._)("label",W,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:M.perPage2,"onUpdate:modelValue":t[12]||(t[12]=e=>M.perPage2=e),size:"sm",options:M.pageOptions2},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",y,[(0,s._)("div",P,[(0,s._)("label",I,[(0,s.Uk)(" Search: "),(0,s.Wm)(Z,{modelValue:M.filter2,"onUpdate:modelValue":t[13]||(t[13]=e=>M.filter2=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",T,[(0,s.Wm)(j,{items:M.tableMantenimiento,fields:M.fieldsMantenimiento,responsive:"sm","per-page":M.perPage2,"current-page":M.currentPage2,"sort-by":M.sortBy2,"sort-desc":M.sortDesc2,filter:M.filter2,"filter-included-fields":M.filterOn2,onFiltered:$.onFiltered},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",V,[(0,s._)("ul",v,[(0,s.Wm)(E,{modelValue:M.currentPage2,"onUpdate:modelValue":t[14]||(t[14]=e=>M.currentPage2=e),"total-rows":M.totalRows2,"per-page":M.perPage2},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Ordenes por gestor - horas pendientes")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"8"}),(0,s.Wm)(z,{cols:"4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:M.OrdenesGestorId,"onUpdate:modelValue":t[15]||(t[15]=e=>M.OrdenesGestorId=e),size:"sm",options:M.OrdenesGestor,onChange:t[16]||(t[16]=e=>$.getTableOrder())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s._)("label",U,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:M.perPageOrder,"onUpdate:modelValue":t[17]||(t[17]=e=>M.perPageOrder=e),size:"sm",options:M.pageOptionsOrder},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",S,[(0,s._)("div",R,[(0,s._)("label",D,[(0,s.Uk)(" Search: "),(0,s.Wm)(Z,{modelValue:M.filterOrder,"onUpdate:modelValue":t[18]||(t[18]=e=>M.filterOrder=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",F,[(0,s.Wm)(j,{items:M.tableDataOrder,fields:M.fieldsOrder,responsive:"sm","per-page":M.perPageOrder,"current-page":M.currentPageOrder,"sort-by":M.sortByOrder,"sort-desc":M.sortDescOrder,filter:M.filterOrder,"filter-included-fields":M.filterOnOrder,onFiltered:$.onFilteredOrder},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",x,[(0,s._)("ul",B,[(0,s.Wm)(E,{modelValue:M.currentPageOrder,"onUpdate:modelValue":t[19]||(t[19]=e=>M.currentPageOrder=e),"total-rows":M.totalRowsOrder,"per-page":M.perPageOrder},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})}a(560);var M=a(4642),$=a(1022),A={components:{Layout:M.Z,PageHeader:$.Z},data(){return{title:"Gestión",TableInstalaciones:[],tableMantenimiento:[],tableDataGestor:[],tableDataOrder:[],GestorAgenda:[],Ciudades:[],ciudadId:"Lima",ciudadId2:"Lima",OrdenesGestor:[],GestorOrdenes:[],GestorAgendaId:null,OrdenesGestorId:null,GestorOrdenId:null,items:[{text:"Gestión",href:"/"},{text:"Listadp",active:!0}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:[],totalRows2:1,currentPage2:1,perPage2:10,pageOptions2:[10,25,50,100],filter2:null,filterOn2:[],sortBy2:"age",sortDesc2:!1,fieldsMantenimiento:[],totalRowsGestor:1,currentPageGestor:1,perPageGestor:10,pageOptionsGestor:[10,25,50,100],filterOnGestor:[],filterGestor:null,sortByGestor:"age",sortDescGestor:!1,fieldsGestor:[],totalRowsOrder:1,currentPageOrder:1,perPageOrder:10,pageOptionsOrder:[10,25,50,100],filterOnOrder:[],filterOrder:null,sortByOrder:"age",sortDescOrder:!1,fieldsOrder:[],totalesOrder:0,previousTableMantenimientosData:{},previousTableInstalacionesData:{},previousTableGestorData:{},previousTableOrderData:{}}},mounted(){this.getCity(),this.getGestorAgenda(),this.getOrdenesGestor()},methods:{onFiltered(e){this.totalRows=e.length,this.currentPage=1},onFiltered2(e){this.totalRows2=e.length,this.currentPage2=1},onFilteredGestor(e){this.totalRowsGestor=e.length,this.currentPageGestor=1},onFilteredOrder(e){this.totalRowsOrder=e.length,this.currentPageOrder=1},async getGestorAgenda(){try{const e=4e3,t=this.$http.get(this.$apiURL+"manager/managersaltas"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s?(s.data.data.map((e=>this.GestorAgenda.push(e.manager))),this.GestorAgendaId=this.GestorAgenda[0]):this.GestorAgendaId="",this.getTableGestor()}catch(e){console.error(e)}},async getCity(){try{const e=4e3,t=this.$http.get(this.$apiURL+"city/all"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s?(s.data.data.forEach((e=>this.Ciudades.push(e.name))),this.ciudadId=this.Ciudades[0],this.ciudadId2=this.Ciudades[0]):(this.ciudadId="Lima",this.ciudadId2="Lima"),this.getTableInstalaciones(),this.getTableMantenimientos()}catch(e){console.error(e)}},async getOrdenesGestor(){try{const e=4e3,t=this.$http.get(this.$apiURL+"manager/managersaverias"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s?(s.data.data.forEach((e=>this.OrdenesGestor.push(e.manager))),this.OrdenesGestorId=this.OrdenesGestor[0]):this.OrdenesGestorId="",this.getTableOrder()}catch(e){console.error(e)}},async getTableMantenimientos(){try{null!=this.ciudadId2&&this.$nextTick((async()=>{this.tableMantenimiento.splice(0,this.tableMantenimiento.length),this.fieldsMantenimiento.splice(0,this.fieldsMantenimiento.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/maintenanceprogresstable/"+this.ciudadId2),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.tableMantenimiento.push({...e}))),s.data.fields.map((e=>this.fieldsMantenimiento.push({key:e,sortable:!0}))),this.totalRows2=this.tableMantenimiento.length,localStorage.setItem("maintenance_progress_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("maintenance_progress_table"));console.log(e),e&&(e.data.series.map((e=>this.tableMantenimiento.push({...e}))),e.data.fields.map((e=>this.fieldsMantenimiento.push({key:e,sortable:!0}))),this.totalRows2=this.tableMantenimiento.length)}}))}catch(e){console.error(e)}},async getTableInstalaciones(){try{null!=this.ciudadId&&this.$nextTick((async()=>{this.TableInstalaciones.splice(0,this.TableInstalaciones.length),this.fields.splice(0,this.fields.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/installationprogresstable/"+this.ciudadId),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.TableInstalaciones.push({...e}))),s.data.fields.map((e=>this.fields.push({key:e,sortable:!0}))),this.totalRows=this.TableInstalaciones.length,localStorage.setItem("installation_progress_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("installation_progress_table"));e&&(e.data.series.map((e=>this.TableInstalaciones.push({...e}))),e.data.fields.map((e=>this.fields.push({key:e,sortable:!0}))),this.totalRows=this.TableInstalaciones.length)}}))}catch(e){console.error(e)}},async getTableGestor(){try{null!=this.GestorAgendaId&&this.$nextTick((async()=>{this.tableDataGestor.splice(0,this.tableDataGestor.length),this.fieldsGestor.splice(0,this.fieldsGestor.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/installationlogmanagertable/"+this.GestorAgendaId),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.tableDataGestor.push({...e}))),s.data.categories.map((e=>this.fieldsGestor.push({key:e,sortable:!0}))),this.totalRowsGestor=this.tableDataGestor.length,localStorage.setItem("installation_manager_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("installation_manager_table"));e&&(e.data.series.map((e=>this.tableDataGestor.push({...e}))),e.data.categories.map((e=>this.fieldsGestor.push({key:e,sortable:!0}))),this.totalRowsGestor=this.tableDataGestor.length)}}))}catch(e){console.error(e)}},async getTableOrder(){try{null!=this.OrdenesGestorId&&this.$nextTick((async()=>{this.tableDataOrder.splice(0,this.tableDataOrder.length),this.fieldsOrder.splice(0,this.fieldsOrder.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/ordermanagertable/"+this.OrdenesGestorId),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.tableDataOrder.push({...e}))),s.data.categories.map((e=>this.fieldsOrder.push({key:e,sortable:!0}))),this.totalRowsOrder=this.tableDataOrder.length,localStorage.setItem("order_manager_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("order_manager_table"));e&&(e.data.series.map((e=>this.tableDataOrder.push({...e}))),e.data.categories.map((e=>this.fieldsOrder.push({key:e,sortable:!0}))),this.totalRowsOrder=this.tableDataOrder.length)}}))}catch(e){console.error(e)}}},middleware:"authentication"},L=a(3744);const z=(0,L.Z)(A,[["render",C]]);var J=z}}]);
//# sourceMappingURL=87.62702612.js.map