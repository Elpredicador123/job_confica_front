"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[182],{9133:function(e,o,l){l.r(o),l.d(o,{default:function(){return U}});var t=l(6252),a=l(9963);const r={class:"mt-4"},i={class:"mt-4"},m={class:"mt-4"},n={class:"mt-4"},u={class:"mt-4"},s={class:"mt-4"},d={class:"mt-4"},f={class:"mt-4"},c={class:"mt-4"},p={class:"mt-4"},_={class:"mt-4"},w={class:"mt-4"};function b(e,o,l,b,W,h){const v=(0,t.up)("PageHeader"),V=(0,t.up)("BCardTitle"),g=(0,t.up)("BFormInput"),q=(0,t.up)("BFormGroup"),y=(0,t.up)("BCol"),C=(0,t.up)("Multiselect"),U=(0,t.up)("BRow"),B=(0,t.up)("BButton"),x=(0,t.up)("BCardBody"),N=(0,t.up)("BCard"),S=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,{title:e.title,items:e.items},null,8,["title","items"]),(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{cols:"12"},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{"no-body":""},{default:(0,t.w5)((()=>[(0,t.Wm)(x,null,{default:(0,t.w5)((()=>[(0,t.Wm)(V,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Registro de ordenes")])),_:1}),(0,t._)("form",{autocomplete:"off",class:"row no-gutters",onSubmit:o[12]||(o[12]=(0,a.iM)(((...e)=>h.submit&&h.submit(...e)),["prevent"]))},[(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t.Wm)(q,{label:"Codigo de requerimiento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{type:"text",modelValue:W.form.codigo_requerimiento,"onUpdate:modelValue":o[0]||(o[0]=e=>W.form.codigo_requerimiento=e),placeholder:"CÒDIGO SIN ESPACIOS",required:"",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(q,{label:"Tipo de requerimiento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:W.form.tipo_requerimiento,"onUpdate:modelValue":o[1]||(o[1]=e=>W.form.tipo_requerimiento=e),options:W.requerimientos,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(q,{label:"Tipo de cierre","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:W.form.tipo_cierre,"onUpdate:modelValue":o[2]||(o[2]=e=>W.form.tipo_cierre=e),required:"",options:W.cierres,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t.Wm)(q,{label:"CF Técnico","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:W.form.cf,"onUpdate:modelValue":o[3]||(o[3]=e=>W.form.cf=e),required:"",type:"text",onInput:o[4]||(o[4]=e=>h.getTecnicos()),id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t.Wm)(q,{label:"Técnico","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:W.form.tecnico,"onUpdate:modelValue":o[5]||(o[5]=e=>W.form.tecnico=e),required:"",type:"text",id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t.Wm)(q,{label:"Zonal","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{type:"text",required:"",modelValue:W.form.zonal,"onUpdate:modelValue":o[6]||(o[6]=e=>W.form.zonal=e),id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t.Wm)(q,{label:"Número de referencia","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:W.form.numero_referencia,"onUpdate:modelValue":o[7]||(o[7]=e=>W.form.numero_referencia=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",f,[(0,t.Wm)(q,{label:"Efectividad","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:W.form.efectividad,"onUpdate:modelValue":o[8]||(o[8]=e=>W.form.efectividad=e),options:W.efectividades,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t.Wm)(q,{label:"Nota NPS","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:W.form.nota_nps,"onUpdate:modelValue":o[9]||(o[9]=e=>W.form.nota_nps=e),required:"",options:W.notas,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.Wm)(q,{label:"Posible detractor","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{modelValue:W.form.detractor,"onUpdate:modelValue":o[10]||(o[10]=e=>W.form.detractor=e),required:"",options:W.posibles,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,t.Wm)(y,{lg:"12"},{default:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t.Wm)(q,{label:"Tipo de cierre","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("textarea",{id:"message","onUpdate:modelValue":o[11]||(o[11]=e=>W.form.observaciones=e),class:"form-control"},null,512),[[a.nr,W.form.observaciones]])])),_:1})])])),_:1})])),_:1}),(0,t._)("div",w,[(0,t.Wm)(B,{type:"submit",variant:"primary",onSubmit:(0,a.iM)(h.submit,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Uk)("Guardar")])),_:1},8,["onSubmit"])])],32)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var W=l(5172),h=l(1022),v=l(7091),V=l(381),g=l.n(V),q={components:{Layout:W.Z,PageHeader:h.Z,Multiselect:v.Z},data(){return{value:null,requerimientos:["Alta","Averia"],cierres:["Completado","Suspendido","Devuelto","Pendiente"],efectividades:["Efectiva","Inefectiva","Inefectiva recuperada"],notas:["Detractor (0-5)","Neutro (6-7)","Promotor (8-9)","No aplica"],posibles:["Si","No","No aplica"],form:{}}},mounted(){this.initForm()},methods:{initForm(){this.form={zonal:null,tecnico:null,cf:"",codigo_requerimiento:null,tipo_requerimiento:null,tipo_cierre:null,numero_referencia:null,efectividad:null,nota_nps:null,detractor:null,observaciones:null,contrata:"",usuario:"admin",fecha:g()().format("YYYY-MM-DD")}},async getTecnicos(){try{this.$nextTick((async()=>{if(console.log(this.form.cf),""==this.form.cf)this.form.tecnico=null,this.form.zonal=null,this.form.contrata=null;else{const e=await this.$http.get(this.$apiURL+"technical/carnet/"+this.form.cf);null!=e.data&&e.data.data?(this.form.tecnico=e.data.data.Nombre_Completo||null,this.form.zonal=e.data.data.Zonal||null,this.form.contrata=e.data.data.Contrata||null):(this.form.tecnico=null,this.form.zonal=null,this.form.contrata=null)}}))}catch(e){console.error(e)}},async submit(){this.$http.post(this.$apiURL+"order/store",this.form,{}).then((e=>{200==e.status&&(console.log(e),this.$swal({title:"Completado!",text:e.data.message,icon:"success",confirmButtonColor:"#6457A2"}),this.$swal("Completado!",e.data.message,"success"),this.initForm())})).catch((e=>{console.error(e),this.$swal({icon:"error",title:"Oops...",text:e})}))}},middleware:"authentication"},y=l(3744);const C=(0,y.Z)(q,[["render",b]]);var U=C}}]);
//# sourceMappingURL=182.6054f759.js.map