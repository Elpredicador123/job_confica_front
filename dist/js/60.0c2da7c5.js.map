{"version":3,"file":"js/60.0c2da7c5.js","mappings":"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","sources":["webpack://minible/./src/views/pages/birthday/calendar.vue","webpack://minible/./src/views/pages/birthday/calendar.vue?8ff9"],"sourcesContent":["<script>\r\nimport FullCalendar from \"@fullcalendar/vue3\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport bootstrapPlugin from \"@fullcalendar/bootstrap\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\n\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { required } from \"@vuelidate/validators\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\n\r\nimport {  categories } from \"../calendar/data-calendar\";\r\nimport { format } from 'date-fns';\r\n\r\n/**\r\n * Calendar component\r\n */\r\nexport default {\r\n  components: { FullCalendar, Layout, PageHeader },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Calendar\",\r\n      items: [\r\n        {\r\n          text: \"Minible\"\r\n        },\r\n        {\r\n          text: \"Calendar\",\r\n          active: true\r\n        }\r\n      ],\r\n      calendarEvents: [],\r\n      calendarOptions: {\r\n        eventDrop: this.handleEventDrop,\r\n        headerToolbar: {\r\n          left: \"prev,next today\",\r\n          center: \"title\",\r\n          right: \"dayGridMonth,timeGridWeek,timeGridDay,listWeek\"\r\n        },\r\n        plugins: [\r\n          dayGridPlugin,\r\n          timeGridPlugin,\r\n          interactionPlugin,\r\n          bootstrapPlugin,\r\n          listPlugin\r\n        ],\r\n        initialView: \"dayGridMonth\",\r\n        themeSystem: \"bootstrap\",\r\n        initialEvents: [],\r\n        editable: true,\r\n        droppable: true,\r\n        eventResizableFromStart: true,\r\n        dateClick: this.dateClicked,\r\n        eventClick: this.editEvent,\r\n        eventsSet: this.handleEvents,\r\n        weekends: true,\r\n        selectable: true,\r\n        selectMirror: true,\r\n        dayMaxEvents: true\r\n      },\r\n      currentEvents: [],\r\n      tableData: [],\r\n      showModal: false,\r\n      eventModal: false,\r\n      categories: categories,\r\n      submitted: false,\r\n      submit: false,\r\n      newEventData: {},\r\n      edit: {},\r\n      deleteId: {},\r\n      event: {\r\n        title: \"\",\r\n        category: \"\",\r\n      },\r\n      editevent: {\r\n        editTitle: \"\",\r\n        editcategory: \"\"\r\n      }\r\n    };\r\n  },\r\n  validations: {\r\n    event: {\r\n      title: { required },\r\n      category: { required }\r\n    }\r\n  },\r\n  mounted() {\r\n        //obtener datos de la api\r\n        this.getData();\r\n    },\r\n  methods: {\r\n    /**\r\n     * Modal form submit\r\n     */\r\n        async getData() {\r\n            try {\r\n                const response = await this.$http.get(this.$apiURL+'birthday/all');\r\n                this.calendarOptions.events  = response.data.data;\r\n                this.event.category = \"Danger\"\r\n                console.log(this.calendarOptions.events)\r\n                \r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        },\r\n    handleSubmit() {\r\n      this.submitted = true;\r\n\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      }\r\n      const formattedStartDate = format(new Date(this.newEventData.date), 'yyyy-MM-dd');\r\n      const eventData = {\r\n          title: this.event.title,\r\n          start: formattedStartDate,\r\n          end: formattedStartDate, // Ajusta esto si tienes una lógica diferente para 'end'\r\n          user_id: 1 // Asegúrate de que este dato esté disponible\r\n      };\r\n\r\n      // Aquí realizas la solicitud POST a tu API\r\n      this.$http.post(this.$apiURL+'birthday/store', eventData)\r\n          .then(response => {\r\n              console.log(response);\r\n              this.successmsg();\r\n              \r\n              this.showModal = false;\r\n              this.getData()\r\n          })\r\n          .catch(error => {\r\n              console.error(error);\r\n              // Manejar errores aquí\r\n          });\r\n\r\n      this.submitted = false;\r\n      this.event = {};\r\n    },\r\n    handleEventDrop(info) {\r\n      console.log(info)\r\n      // Obtener la nueva fecha de inicio y finalización\r\n      const startDate = format(new Date(info.event.start), 'yyyy-MM-dd');\r\n      const endDate = info.event.end ? format(new Date(info.event.end), 'yyyy-MM-dd') : startDate;\r\n\r\n      // Datos del evento para actualizar\r\n      const updatedEventData = {\r\n        title: info.event.title,\r\n        start: startDate,\r\n        end: endDate,\r\n        id : parseInt(info.event.id)\r\n        // otros campos que puedas necesitar actualizar\r\n      };\r\n\r\n      // Llamar a tu API para actualizar el evento\r\n      this.updateEvent(info.event.id, updatedEventData);\r\n    },\r\n    updateEvent(eventId, updatedEventData) {\r\n      console.log(eventId,updatedEventData)\r\n      // Aquí puedes hacer una solicitud a tu API para actualizar el evento\r\n      this.$http.post(this.$apiURL+'birthday/store', updatedEventData)\r\n          .then(response => {\r\n              console.log(response);\r\n              this.successmsg();\r\n              \r\n              this.showModal = false;\r\n              this.getData()\r\n          })\r\n          .catch(error => {\r\n              console.error(error);\r\n              // Manejar errores aquí\r\n          });\r\n      \r\n    },\r\n    hideModal() {\r\n      this.submitted = false;\r\n      this.showModal = false;\r\n      this.event = {};\r\n    },\r\n    /**\r\n     * Edit event modal submit\r\n     */\r\n     editSubmit() {\r\n      console.log(this.editevent)\r\n\r\n      // Datos del evento para actualizar\r\n      const updatedEventData = {\r\n        title: this.editevent.editTitle,\r\n        id : parseInt(this.edit.id),\r\n        // otros campos que puedas necesitar actualizar\r\n      };\r\n      // Llamar a tu API para actualizar el evento\r\n      this.updateEvent(this.edit.id, updatedEventData);\r\n      this.closeModal()\r\n      // Llamar a tu API para actualizar el evento\r\n      // Asumiendo que 'this.edit.id' contiene el ID del evento que estás editando\r\n    },\r\n\r\n    /**\r\n     * Delete event\r\n     */\r\n    deleteEvent() {\r\n      this.edit.remove();\r\n      this.eventModal = false;\r\n    },\r\n    /**\r\n     * Modal open for add event\r\n     */\r\n    dateClicked(info) {\r\n      this.newEventData = info;\r\n      this.showModal = true;\r\n    },\r\n    /**\r\n     * Modal open for edit event\r\n     */\r\n    editEvent(info) {\r\n      this.edit = info.event;\r\n      this.editevent.editTitle = this.edit.title;\r\n      this.editevent.editcategory = this.edit.classNames[0];\r\n      this.eventModal = true;\r\n    },\r\n\r\n    closeModal() {\r\n      this.eventModal = false;\r\n    },\r\n\r\n    confirm() {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"You won't be able to delete this!\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#34c38f\",\r\n        cancelButtonColor: \"#f46a6a\",\r\n        confirmButtonText: \"Yes, delete it!\"\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.deleteEvent();\r\n          Swal.fire(\"Deleted!\", \"Event has been deleted.\", \"success\");\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Show list of events\r\n     */\r\n    handleEvents(events) {\r\n      this.currentEvents = events;\r\n    },\r\n\r\n    /**\r\n     * Show successfull Save Dialog\r\n     */\r\n    successmsg() {\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"success\",\r\n        title: \"Event has been saved\",\r\n        showConfirmButton: false,\r\n        timer: 1000\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n    <BRow>\r\n      <BCol cols=\"12\">\r\n        <BCard np-body>\r\n          <BCardBody>\r\n            <div class=\"app-calendar\">\r\n              <FullCalendar\r\n                ref=\"fullCalendar\"\r\n                :options=\"calendarOptions\"\r\n              ></FullCalendar>\r\n            </div>\r\n          </BCardBody>\r\n        </BCard>\r\n      </BCol>\r\n    </BRow>\r\n    <BModal\r\n      v-model=\"showModal\"\r\n      title=\"Add New Event\"\r\n      title-class=\"font-18\"\r\n      body-class=\"p-3\"\r\n      hide-footer\r\n    >\r\n      <BForm @submit.prevent=\"handleSubmit\">\r\n        <BRow>\r\n          <BCol cols=\"12\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">Event Name</label>\r\n              <input\r\n                id=\"name\"\r\n                v-model=\"event.title\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                placeholder=\"Insert Event name\"\r\n                :class=\"{ 'is-invalid': submitted && v$.event.title.$error }\"\r\n              />\r\n              <div\r\n                v-if=\"submitted && v$.event.title.required.$invalid\"\r\n                class=\"invalid-feedback\"\r\n              >\r\n                This value is required.\r\n              </div>\r\n            </div>\r\n          </BCol>\r\n          <BCol cols=\"12\">\r\n            <div class=\"mb-3\">\r\n              <label class=\"control-label form-label\">Category</label>\r\n              <select\r\n                v-model=\"event.category\"\r\n                class=\"form-control\"\r\n                name=\"category\"\r\n                :class=\"{ 'is-invalid': submitted && v$.event.category.errors }\"\r\n              >\r\n                <option\r\n                  v-for=\"option in categories\"\r\n                  :key=\"option.backgroundColor\"\r\n                  :value=\"`${option.value}`\"\r\n                >\r\n                  {{ option.name }}\r\n                </option>\r\n              </select>\r\n              <div\r\n                v-if=\"submitted && v$.event.category.$invalid\"\r\n                class=\"invalid-feedback\"\r\n              >\r\n                This value is required.\r\n              </div>\r\n            </div>\r\n          </BCol>\r\n        </BRow>\r\n\r\n        <div class=\"text-end pt-5 mt-3\">\r\n          <BButton variant=\"light\" @click=\"hideModal\">Close</BButton>\r\n          <BButton type=\"submit\" variant=\"success\" class=\"ms-1\"\r\n            >Create event</BButton\r\n          >\r\n        </div>\r\n      </BForm>\r\n    </BModal>\r\n\r\n    <!-- Edit Modal -->\r\n    <BModal\r\n      v-model=\"eventModal\"\r\n      title=\"Edit Event\"\r\n      title-class=\"font-18\"\r\n      hide-footer\r\n      body-class=\"p-3\"\r\n    >\r\n      <form @submit.prevent=\"editSubmit\">\r\n        <BRow>\r\n          <BCol cols=\"12\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">Event Name</label>\r\n              <input\r\n                id=\"name\"\r\n                v-model=\"editevent.editTitle\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                placeholder=\"Insert Event name\"\r\n              />\r\n            </div>\r\n          </BCol>\r\n          <BCol cols=\"12\">\r\n            <div class=\"mb-3\">\r\n              <label class=\"control-label form-label\">Category</label>\r\n              <select\r\n                v-model=\"editevent.editcategory\"\r\n                class=\"form-control\"\r\n                name=\"category\"\r\n              >\r\n                <option\r\n                  v-for=\"option in categories\"\r\n                  :key=\"option.backgroundColor\"\r\n                  :value=\"`${option.value}`\"\r\n                >\r\n                  {{ option.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </BCol>\r\n        </BRow>\r\n        <div class=\"d-flex justify-content-between\">\r\n          <BButton class=\"ms-1\" variant=\"danger\" @click=\"confirm\"\r\n            >Delete</BButton\r\n          >\r\n          <div class=\"d-flex\">\r\n            <BButton variant=\"light\" @click=\"closeModal\">Close</BButton>\r\n            <b-button class=\"ms-1\" variant=\"success\" @click=\"editSubmit\"\r\n              >Save</b-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </BModal>\r\n  </Layout>\r\n</template>\r\n","import { render } from \"./calendar.vue?vue&type=template&id=52becad8\"\nimport script from \"./calendar.vue?vue&type=script&lang=js\"\nexport * from \"./calendar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","key","_createBlock","_component_Layout","default","_withCtx","_createVNode","_component_PageHeader","title","$data","items","_component_BRow","_component_BCol","cols","_component_BCard","_component_BCardBody","_hoisted_1","_component_FullCalendar","ref","options","calendarOptions","_","_component_BModal","modelValue","showModal","_cache","$event","_component_BForm","onSubmit","_withModifiers","$options","handleSubmit","_hoisted_2","_hoisted_3","id","event","type","_normalizeClass","submitted","$setup","v$","$error","placeholder","required","$invalid","_createElementBlock","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","category","errors","name","_Fragment","_renderList","categories","option","backgroundColor","value","_hoisted_7","_hoisted_8","_hoisted_9","_component_BButton","variant","onClick","hideModal","_createTextVNode","eventModal","args","editSubmit","_hoisted_10","_hoisted_11","editevent","editTitle","_hoisted_12","_hoisted_13","editcategory","_hoisted_14","_hoisted_15","confirm","_hoisted_16","closeModal","_component_b_button","components","FullCalendar","Layout","PageHeader","setup","useVuelidate","data","text","active","calendarEvents","eventDrop","this","handleEventDrop","headerToolbar","left","center","right","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","bootstrapPlugin","listPlugin","initialView","themeSystem","initialEvents","editable","droppable","eventResizableFromStart","dateClick","dateClicked","eventClick","editEvent","eventsSet","handleEvents","weekends","selectable","selectMirror","dayMaxEvents","currentEvents","tableData","submit","newEventData","edit","deleteId","validations","mounted","getData","methods","response","$http","get","$apiURL","events","console","log","error","$touch","formattedStartDate","format","Date","date","eventData","start","end","user_id","post","then","successmsg","catch","info","startDate","endDate","updatedEventData","parseInt","updateEvent","eventId","deleteEvent","remove","classNames","Swal","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","position","showConfirmButton","timer","__exports__","render"],"sourceRoot":""}