"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[281],{9900:function(e,t,a){function s(e,t){let a={series:e,chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"45%",endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]}},stroke:{show:!0,width:2,colors:["transparent"]},colors:["#10b07a","#dc3545","#f1b44c"],xaxis:{categories:t},yaxis:{title:{text:""}},grid:{borderColor:"#f1f1f1"},fill:{opacity:1}}};return a}function i(e,t){let a={series:e,chartOptions:{labels:t,colors:["#34c38f","#556ee6","#f46a6a","#50a5f1","#f1b44c"],legend:{show:!0,position:"bottom",horizontalAlign:"center",verticalAlign:"middle",floating:!1,fontSize:"14px",offsetX:0,offsetY:10},responsive:[{breakpoint:600,options:{chart:{height:240},legend:{show:!1}}}]}};return a}function l(e,t){let a={series:[{data:e}],chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"bottom"},distributed:!1}},dataLabels:{enabled:!1},colors:["#34c38f","#556ee6","#f46a6a","#50a5f1","#A5978B","#2b908f","#f9a3a4","#90ee7e","#f48024","#69d2e7"],grid:{borderColor:"#f1f1f1"},yaxis:{labels:{show:!0}},xaxis:{categories:t}}};return a}a.d(t,{$Y:function(){return s},C8:function(){return i},Sr:function(){return l}})},1022:function(e,t,a){a.d(t,{Z:function(){return p}});var s=a(6252),i=a(3577);const l={class:"page-title-box d-flex align-items-center justify-content-between"},o={class:"mb-0"},r={class:"page-title-right"};function n(e,t,a,n,d,u){const c=(0,s.up)("b-breadcrumb"),p=(0,s.up)("BCol"),m=(0,s.up)("BRow");return(0,s.wg)(),(0,s.j4)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("h4",o,(0,i.zw)(a.title),1),(0,s._)("div",r,[(0,s.Wm)(c,{items:a.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var d={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},u=a(3744);const c=(0,u.Z)(d,[["render",n]]);var p=c},2917:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var s=a(6252);const i={id:"tickets-table_length",class:"dataTables_length"},l={class:"d-inline-flex align-items-center"},o={class:"col-sm-12 col-md-6"},r={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},n={class:"d-inline-flex align-items-center"},d={class:"table-responsive mb-0"},u={class:"dataTables_paginate paging_simple_numbers float-end"},c={class:"pagination pagination-rounded mb-0"},p={id:"tickets-table_length",class:"dataTables_length"},m={class:"d-inline-flex align-items-center"},h={class:"col-sm-12 col-md-6"},f={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},g={class:"d-inline-flex align-items-center"},b={class:"table-responsive mb-0"},w={class:"dataTables_paginate paging_simple_numbers float-end"},_={class:"pagination pagination-rounded mb-0"};function S(e,t,a,S,C,T){const W=(0,s.up)("PageHeader"),y=(0,s.up)("BCardTitle"),I=(0,s.up)("BCol"),k=(0,s.up)("BFormSelect"),P=(0,s.up)("BRow"),v=(0,s.up)("apexchart"),U=(0,s.up)("BCardBody"),O=(0,s.up)("BCard"),V=(0,s.up)("BFormInput"),R=(0,s.up)("BTable"),x=(0,s.up)("BPagination"),B=(0,s.up)("Layout");return(0,s.wg)(),(0,s.j4)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{title:C.title,items:e.items},null,8,["title","items"]),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Inefectiva Gestor")])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cols:"7"}),(0,s.Wm)(I,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(k,{modelValue:C.CiudadId1,"onUpdate:modelValue":t[0]||(t[0]=e=>C.CiudadId1=e),size:"sm",options:C.Ciudades,onChange:t[1]||(t[1]=e=>T.getContrata())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(v,{class:"apex-charts",height:"350",type:"bar",dir:"ltr",series:C.ContrataBar.series,options:C.ContrataBar.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(I,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Distrubución Inefectiva")])),_:1}),(0,s.Wm)(v,{class:"apex-charts",height:"320",type:"pie",dir:"ltr",series:C.pieChart2.series,options:C.pieChart2.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(I,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Distribución Reitero")])),_:1}),(0,s.Wm)(v,{class:"apex-charts",height:"320",type:"pie",dir:"ltr",series:C.pieChart.series,options:C.pieChart.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(I,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Averías Reiteradas - Sup")])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cols:"7"}),(0,s.Wm)(I,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(k,{modelValue:C.CiudadId3,"onUpdate:modelValue":t[2]||(t[2]=e=>C.CiudadId3=e),size:"sm",options:C.Ciudades,onChange:t[3]||(t[3]=e=>T.getTableSup())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(P,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("label",l,[(0,s.Uk)(" Show  "),(0,s.Wm)(k,{modelValue:C.perPageSup,"onUpdate:modelValue":t[4]||(t[4]=e=>C.perPageSup=e),size:"sm",options:C.pageOptionsSup},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",o,[(0,s._)("div",r,[(0,s._)("label",n,[(0,s.Uk)(" Search: "),(0,s.Wm)(V,{modelValue:C.filterSup,"onUpdate:modelValue":t[5]||(t[5]=e=>C.filterSup=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",d,[(0,s.Wm)(R,{items:C.tableDataSup,fields:C.fieldsSup,responsive:"sm","per-page":C.perPageSup,"current-page":C.currentPageSup,"sort-by":C.sortBySup,"sort-desc":C.sortDescSup,filter:C.filterSup,"filter-included-fields":C.filterOnSup,onFiltered:T.onFilteredSup},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s._)("div",u,[(0,s._)("ul",c,[(0,s.Wm)(x,{modelValue:C.currentPageSup,"onUpdate:modelValue":t[6]||(t[6]=e=>C.currentPageSup=e),"total-rows":C.totalRowsSup,"per-page":C.perPageSup},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(I,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Averías Reiteradas - Tec")])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cols:"7"}),(0,s.Wm)(I,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(k,{modelValue:C.CiudadId4,"onUpdate:modelValue":t[7]||(t[7]=e=>C.CiudadId4=e),size:"sm",options:C.Ciudades,onChange:t[8]||(t[8]=e=>T.getTableTec())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(P,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("label",m,[(0,s.Uk)(" Show  "),(0,s.Wm)(k,{modelValue:C.perPageTec,"onUpdate:modelValue":t[9]||(t[9]=e=>C.perPageTec=e),size:"sm",options:C.pageOptionsTec},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",h,[(0,s._)("div",f,[(0,s._)("label",g,[(0,s.Uk)(" Search: "),(0,s.Wm)(V,{modelValue:C.filterTec,"onUpdate:modelValue":t[10]||(t[10]=e=>C.filterTec=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",b,[(0,s.Wm)(R,{items:C.tableDataTec,fields:C.fieldsTec,responsive:"sm","per-page":C.perPageTec,"current-page":C.currentPageTec,"sort-by":C.sortByTec,"sort-desc":C.sortDescTec,filter:C.filterTec,"filter-included-fields":C.filterOnTec,onFiltered:T.onFilteredTec},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s._)("div",w,[(0,s._)("ul",_,[(0,s.Wm)(x,{modelValue:C.currentPageTec,"onUpdate:modelValue":t[11]||(t[11]=e=>C.currentPageTec=e),"total-rows":C.totalRowsTec,"per-page":C.perPageTec},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(560);var C=a(4642),T=a(1022),W=a(9900),y={components:{Layout:C.Z,PageHeader:T.Z},data(){return{title:"Gestión",tableDataSup:[],tableDataTec:[],ContrataBar:[],pieChart:[],pieChart2:[],GestorAgenda:[],GestorOrdenes:[],GestorAgendaId:null,GestorOrdenId:null,Ciudades:[],CiudadId1:null,CiudadId2:null,CiudadId3:null,CiudadId4:null,totalRowsSup:1,currentPageSup:1,perPageSup:3,pageOptionsSup:[3,10,25,50,100],filterOnSup:[],filterSup:null,sortBySup:"age",sortDescSup:!1,fieldsSup:[],totalRowsTec:1,currentPageTec:1,perPageTec:3,pageOptionsTec:[3,10,25,50,100],filterOnTec:[],filterTec:null,sortByTec:"age",sortDescTec:!1,fieldsTec:[]}},mounted(){this.getCity(),this.getRatioInstalaciones(),this.getRatioMantenimientos()},methods:{onFilteredSup(e){this.totalRowsSup=e.length,this.currentPageSup=1},onFilteredTec(e){this.totalRowsTec=e.length,this.currentPageTec=1},async getContrata(){null!=this.CiudadId1?this.$nextTick((async()=>{const e=4e3,t=this.$http.get(this.$apiURL+"maintenance/ineffectivecontratagraphic/"+this.CiudadId1),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)this.ContrataBar={...(0,W.Sr)(s.data.series,s.data.categories)},localStorage.setItem("ineffective_contrata",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("ineffective_contrata"));this.ContrataBar=e?{...(0,W.Sr)(e.data.series,e.data.categories)}:{...(0,W.Sr)([],[])}}})):this.ContrataBar={...(0,W.Sr)([],[])}},async getTableSup(){null!=this.CiudadId3&&this.$nextTick((async()=>{const e=4e3,t=this.$http.get(this.$apiURL+"maintenance/childhoodbreakdownsmanagers/"+this.CiudadId3),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(this.tableDataSup.splice(0,this.tableDataSup.length),this.fieldsSup.splice(0,this.fieldsSup.length),s)s.data.series.map((e=>this.tableDataSup.push({...e}))),s.data.fields.map((e=>this.fieldsSup.push({key:e,sortable:!0}))),this.totalRowsSup=this.tableDataSup.length,localStorage.setItem("childhood_break",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("childhood_break"));e&&(e.data.series.map((e=>this.tableDataSup.push({...e}))),e.data.fields.map((e=>this.fieldsSup.push({key:e,sortable:!0}))),this.totalRowsSup=this.tableDataSup.length)}}))},async getTableTec(){null!=this.CiudadId4&&this.$nextTick((async()=>{const e=4e3,t=this.$http.get(this.$apiURL+"maintenance/childhoodbreakdownstechnicians/"+this.CiudadId4),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(this.tableDataTec.splice(0,this.tableDataTec.length),this.fieldsTec.splice(0,this.fieldsTec.length),s)s.data.series.map((e=>this.tableDataTec.push({...e}))),s.data.fields.map((e=>this.fieldsTec.push({key:e,sortable:!0}))),this.totalRowsTec=this.tableDataTec.length,localStorage.setItem("childhood_break_downs",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("childhood_break_downs"));e&&(e.data.series.map((e=>this.tableDataTec.push({...e}))),e.data.fields.map((e=>this.fieldsTec.push({key:e,sortable:!0}))),this.totalRowsTec=this.tableDataTec.length)}}))},async getCity(){try{const e=4e3,t=this.$http.get(this.$apiURL+"city/all"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s?(s.data.data.forEach((e=>this.Ciudades.push(e.name))),this.CiudadId1=this.Ciudades[0],this.CiudadId2=this.Ciudades[0],this.CiudadId3=this.Ciudades[0],this.CiudadId4=this.Ciudades[0]):(this.CiudadId1="Lima",this.CiudadId2="Lima",this.CiudadId3="Lima",this.CiudadId4="Lima"),this.getContrata(),this.getTableSup(),this.getTableTec()}catch(e){console.error(e)}},async getRatioInstalaciones(){try{const e=4e3,t=this.$http.get(this.$apiURL+"maintenance/childhoodbreakdownsgeneral"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)this.pieChart={...(0,W.C8)(s.data.series,s.data.categories)},localStorage.setItem("child_hood_break",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("child_hood_break"));this.pieChart=e?{...(0,W.C8)(e.data.series,e.data.categories)}:{...(0,W.C8)([],[])}}}catch(e){console.error(e)}},async getRatioMantenimientos(){try{const e=4e3,t=this.$http.get(this.$apiURL+"maintenance/ineffectivedistributionratiographic"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)this.pieChart2={...(0,W.C8)(s.data.series,s.data.categories)},localStorage.setItem("ineffective_distribution",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("ineffective_distribution"));this.pieChart2=e?{...(0,W.C8)(e.data.series,e.data.categories)}:{...(0,W.C8)([],[])}}}catch(e){console.error(e)}}},middleware:"authentication"},I=a(3744);const k=(0,I.Z)(y,[["render",S]]);var P=k}}]);
//# sourceMappingURL=281.bd97b01c.js.map