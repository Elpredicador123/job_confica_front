"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[405],{5216:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var s=a(6252);const l={id:"tickets-table_length",class:"dataTables_length"},r={class:"d-inline-flex align-items-center"},i={class:"col-sm-12 col-md-6"},o={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},n={class:"d-inline-flex align-items-center"},d={class:"table-responsive mb-0"},m={class:"dataTables_paginate paging_simple_numbers float-end"},c={class:"pagination pagination-rounded mb-0"},u={id:"tickets-table_length",class:"dataTables_length"},p={class:"d-inline-flex align-items-center"},g={class:"col-sm-12 col-md-6"},h={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},f={class:"d-inline-flex align-items-center"},b={class:"table-responsive mb-0"},_={class:"dataTables_paginate paging_simple_numbers float-end"},w={class:"pagination pagination-rounded mb-0"},O={class:"row"},G={id:"tickets-table_length",class:"dataTables_length"},W={class:"d-inline-flex align-items-center"},y={class:"col-sm-12 col-md-6"},P={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},I={class:"d-inline-flex align-items-center"},T={class:"table-responsive mb-0"},V={class:"dataTables_paginate paging_simple_numbers float-end"},k={class:"pagination pagination-rounded mb-0"},U={id:"tickets-table_length",class:"dataTables_length"},v={class:"d-inline-flex align-items-center"},D={class:"col-sm-12 col-md-6"},S={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},R={class:"d-inline-flex align-items-center"},F={class:"table-responsive mb-0"},M={class:"dataTables_paginate paging_simple_numbers float-end"},x={class:"pagination pagination-rounded mb-0"};function B(e,t,a,B,C,$){const A=(0,s.up)("PageHeader"),L=(0,s.up)("BCardTitle"),z=(0,s.up)("BCol"),J=(0,s.up)("BFormSelect"),N=(0,s.up)("BRow"),E=(0,s.up)("BFormInput"),Z=(0,s.up)("BTable"),H=(0,s.up)("BPagination"),j=(0,s.up)("BCardBody"),q=(0,s.up)("BCard"),K=(0,s.up)("Layout");return(0,s.wg)(),(0,s.j4)(K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{title:C.title,items:C.items},null,8,["title","items"]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(j,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Avance instalaciones")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"7"}),(0,s.Wm)(z,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:C.ciudadId,"onUpdate:modelValue":t[0]||(t[0]=e=>C.ciudadId=e),size:"sm",options:C.Ciudades,onChange:t[1]||(t[1]=e=>$.getTableInstalaciones())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("label",r,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:C.perPage,"onUpdate:modelValue":t[2]||(t[2]=e=>C.perPage=e),size:"sm",options:C.pageOptions},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",i,[(0,s._)("div",o,[(0,s._)("label",n,[(0,s.Uk)(" Search: "),(0,s.Wm)(E,{modelValue:C.filter,"onUpdate:modelValue":t[3]||(t[3]=e=>C.filter=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",d,[(0,s.Wm)(Z,{items:C.TableInstalaciones,fields:C.fields,responsive:"sm","per-page":C.perPage,"current-page":C.currentPage,"sort-by":C.sortBy,"sort-desc":C.sortDesc,filter:C.filter,"filter-included-fields":C.filterOn,onFiltered:$.onFiltered},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",m,[(0,s._)("ul",c,[(0,s.Wm)(H,{modelValue:C.currentPage,"onUpdate:modelValue":t[4]||(t[4]=e=>C.currentPage=e),"total-rows":C.totalRows,"per-page":C.perPage},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(j,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Ordenes por gestor instalaciones")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"7"}),(0,s.Wm)(z,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:C.GestorAgendaId,"onUpdate:modelValue":t[5]||(t[5]=e=>C.GestorAgendaId=e),size:"sm",options:C.GestorAgenda,onChange:t[6]||(t[6]=e=>$.getTableGestor())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",u,[(0,s._)("label",p,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:C.perPageGestor,"onUpdate:modelValue":t[7]||(t[7]=e=>C.perPageGestor=e),size:"sm",options:C.pageOptionsGestor},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("label",f,[(0,s.Uk)(" Search: "),(0,s.Wm)(E,{modelValue:C.filterGestor,"onUpdate:modelValue":t[8]||(t[8]=e=>C.filterGestor=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",b,[(0,s.Wm)(Z,{items:C.tableDataGestor,fields:C.fieldsGestor,responsive:"sm","per-page":C.perPageGestor,"current-page":C.currentPageGestor,"sort-by":C.sortByGestor,"sort-desc":C.sortDescGestor,filter:C.filterGestor,"filter-included-fields":C.filterOnGestor,onFiltered:$.onFilteredGestor},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",_,[(0,s._)("ul",w,[(0,s.Wm)(H,{modelValue:C.currentPageGestor,"onUpdate:modelValue":t[9]||(t[9]=e=>C.currentPageGestor=e),"total-rows":C.totalRowsGestor,"per-page":C.perPageGestor},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s._)("div",O,[(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(j,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Avance Mantenimientos")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"7"}),(0,s.Wm)(z,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:C.ciudadId2,"onUpdate:modelValue":t[10]||(t[10]=e=>C.ciudadId2=e),size:"sm",options:C.Ciudades,onChange:t[11]||(t[11]=e=>$.getTableMantenimientos())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",G,[(0,s._)("label",W,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:C.perPage2,"onUpdate:modelValue":t[12]||(t[12]=e=>C.perPage2=e),size:"sm",options:C.pageOptions2},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",y,[(0,s._)("div",P,[(0,s._)("label",I,[(0,s.Uk)(" Search: "),(0,s.Wm)(E,{modelValue:C.filter2,"onUpdate:modelValue":t[13]||(t[13]=e=>C.filter2=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",T,[(0,s.Wm)(Z,{items:C.tableMantenimiento,fields:C.fieldsMantenimiento,responsive:"sm","per-page":C.perPage2,"current-page":C.currentPage2,"sort-by":C.sortBy2,"sort-desc":C.sortDesc2,filter:C.filter2,"filter-included-fields":C.filterOn2,onFiltered:$.onFiltered},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",V,[(0,s._)("ul",k,[(0,s.Wm)(H,{modelValue:C.currentPage2,"onUpdate:modelValue":t[14]||(t[14]=e=>C.currentPage2=e),"total-rows":C.totalRows2,"per-page":C.perPage2},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(z,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(j,null,{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Ordenes por gestor - horas pendientes")])),_:1}),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,{cols:"8"}),(0,s.Wm)(z,{cols:"4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(J,{modelValue:C.OrdenesGestorId,"onUpdate:modelValue":t[15]||(t[15]=e=>C.OrdenesGestorId=e),size:"sm",options:C.OrdenesGestor,onChange:t[16]||(t[16]=e=>$.getTableOrder())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(N,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",U,[(0,s._)("label",v,[(0,s.Uk)(" Show  "),(0,s.Wm)(J,{modelValue:C.perPageOrder,"onUpdate:modelValue":t[17]||(t[17]=e=>C.perPageOrder=e),size:"sm",options:C.pageOptionsOrder},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",D,[(0,s._)("div",S,[(0,s._)("label",R,[(0,s.Uk)(" Search: "),(0,s.Wm)(E,{modelValue:C.filterOrder,"onUpdate:modelValue":t[18]||(t[18]=e=>C.filterOrder=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",F,[(0,s.Wm)(Z,{items:C.tableDataOrder,fields:C.fieldsOrder,responsive:"sm","per-page":C.perPageOrder,"current-page":C.currentPageOrder,"sort-by":C.sortByOrder,"sort-desc":C.sortDescOrder,filter:C.filterOrder,"filter-included-fields":C.filterOnOrder,onFiltered:$.onFilteredOrder},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",M,[(0,s._)("ul",x,[(0,s.Wm)(H,{modelValue:C.currentPageOrder,"onUpdate:modelValue":t[19]||(t[19]=e=>C.currentPageOrder=e),"total-rows":C.totalRowsOrder,"per-page":C.perPageOrder},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})}a(560);var C=a(4642),$=a(1022),A={components:{Layout:C.Z,PageHeader:$.Z},data(){return{title:"Gestión",TableInstalaciones:[],tableMantenimiento:[],tableDataGestor:[],tableDataOrder:[],GestorAgenda:[],Ciudades:[],ciudadId:"Lima",ciudadId2:"Lima",OrdenesGestor:[],GestorOrdenes:[],GestorAgendaId:null,OrdenesGestorId:null,GestorOrdenId:null,items:[{text:"Gestión",href:"/"},{text:"Listadp",active:!0}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:[],totalRows2:1,currentPage2:1,perPage2:10,pageOptions2:[10,25,50,100],filter2:null,filterOn2:[],sortBy2:"age",sortDesc2:!1,fieldsMantenimiento:[],totalRowsGestor:1,currentPageGestor:1,perPageGestor:10,pageOptionsGestor:[10,25,50,100],filterOnGestor:[],filterGestor:null,sortByGestor:"age",sortDescGestor:!1,fieldsGestor:[],totalRowsOrder:1,currentPageOrder:1,perPageOrder:10,pageOptionsOrder:[10,25,50,100],filterOnOrder:[],filterOrder:null,sortByOrder:"age",sortDescOrder:!1,fieldsOrder:[],totalesOrder:0,previousTableMantenimientosData:{},previousTableInstalacionesData:{},previousTableGestorData:{},previousTableOrderData:{}}},mounted(){this.getCity(),this.getGestorAgenda(),this.getOrdenesGestor()},methods:{onFiltered(e){this.totalRows=e.length,this.currentPage=1},onFiltered2(e){this.totalRows2=e.length,this.currentPage2=1},onFilteredGestor(e){this.totalRowsGestor=e.length,this.currentPageGestor=1},onFilteredOrder(e){this.totalRowsOrder=e.length,this.currentPageOrder=1},async getGestorAgenda(){try{const e=4e3,t=this.$http.get(this.$apiURL+"manager/managersaltas"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s&&(s.data.data.map((e=>this.GestorAgenda.push(e.manager))),this.GestorAgendaId=this.GestorAgenda[0]),this.getTableGestor()}catch(e){console.error(e)}},async getCity(){try{const e=4e3,t=this.$http.get(this.$apiURL+"city/all"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s?(s.data.data.forEach((e=>this.Ciudades.push(e.name))),this.ciudadId=this.Ciudades[0],this.ciudadId2=this.Ciudades[0]):(this.ciudadId="Lima",this.ciudadId2="Lima"),this.getTableInstalaciones(),this.getTableMantenimientos()}catch(e){console.error(e)}},async getOrdenesGestor(){const e=await this.$http.get(this.$apiURL+"manager/managersaverias");e.data.data.map((e=>this.OrdenesGestor.push(e.manager))),this.OrdenesGestorId=this.OrdenesGestor[0],this.getTableOrder()},async getTableMantenimientos(){try{null!=this.ciudadId2&&this.$nextTick((async()=>{this.tableMantenimiento.splice(0,this.tableMantenimiento.length),this.fieldsMantenimiento.splice(0,this.fieldsMantenimiento.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/maintenanceprogresstable/"+this.ciudadId2),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.tableMantenimiento.push({...e}))),s.data.fields.map((e=>this.fieldsMantenimiento.push({key:e,sortable:!0}))),this.totalRows2=this.tableMantenimiento.length,localStorage.setItem("maintenance_progress_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("maintenance_progress_table"));console.log(e),e&&(e.data.series.map((e=>this.tableMantenimiento.push({...e}))),e.data.fields.map((e=>this.fieldsMantenimiento.push({key:e,sortable:!0}))),this.totalRows2=this.tableMantenimiento.length)}}))}catch(e){console.error(e)}},async getTableInstalaciones(){try{null!=this.ciudadId2&&this.$nextTick((async()=>{this.TableInstalaciones.splice(0,this.TableInstalaciones.length),this.fields.splice(0,this.fields.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/installationprogresstable/"+this.ciudadId),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)this.previousTableInstalacionesData={series:s.data.series,fields:s.data.fields},s.data.series.forEach((e=>this.TableInstalaciones.push({...e}))),s.data.fields.forEach((e=>this.fields.push({key:e,sortable:!0}))),this.totalRows=this.TableInstalaciones.length,localStorage.setItem("installation_progress_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("installation_progress_table"));e&&(e.series.forEach((e=>this.TableInstalaciones.push({...e}))),e.fields.forEach((e=>this.fields.push({...e}))),this.totalRows=this.TableInstalaciones.length)}}))}catch(e){console.error(e)}},async getTableGestor(){try{null!=this.GestorAgendaId&&this.$nextTick((async()=>{this.tableDataGestor.splice(0,this.tableDataGestor.length),this.fieldsGestor.splice(0,this.fieldsGestor.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/installationlogmanagertable/"+this.GestorAgendaId),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.tableDataGestor.push({...e}))),s.data.categories.map((e=>this.fieldsGestor.push({key:e,sortable:!0}))),this.totalRowsGestor=this.tableDataGestor.length,localStorage.setItem("installation_manager_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("installation_manager_table"));e&&(e.data.series.map((e=>this.tableDataGestor.push({...e}))),e.data.categories.map((e=>this.fieldsGestor.push({key:e,sortable:!0}))),this.totalRowsGestor=this.tableDataGestor.length)}}))}catch(e){console.error(e)}},async getTableOrder(){try{null!=this.OrdenesGestorId&&this.$nextTick((async()=>{this.tableDataOrder.splice(0,this.tableDataOrder.length),this.fieldsOrder.splice(0,this.fieldsOrder.length);const e=4e3,t=this.$http.get(this.$apiURL+"management/ordermanagertable/"+this.OrdenesGestorId),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s)s.data.series.map((e=>this.tableDataOrder.push({...e}))),s.data.categories.map((e=>this.fieldsOrder.push({key:e,sortable:!0}))),this.totalRowsOrder=this.tableDataOrder.length,localStorage.setItem("order_manager_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("order_manager_table"));e&&(e.data.series.map((e=>this.tableDataOrder.push({...e}))),e.data.categories.map((e=>this.fieldsOrder.push({key:e,sortable:!0}))),this.totalRowsOrder=this.tableDataOrder.length)}}))}catch(e){console.error(e)}}},middleware:"authentication"},L=a(3744);const z=(0,L.Z)(A,[["render",B]]);var J=z}}]);
//# sourceMappingURL=405.b54738df.js.map