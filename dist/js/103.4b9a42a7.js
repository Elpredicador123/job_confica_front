"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[103],{1022:function(e,t,l){l.d(t,{Z:function(){return c}});var o=l(6252),a=l(3577);const r={class:"page-title-box d-flex align-items-center justify-content-between"},n={class:"mb-0"},m={class:"page-title-right"};function i(e,t,l,i,s,d){const u=(0,o.up)("b-breadcrumb"),c=(0,o.up)("BCol"),f=(0,o.up)("BRow");return(0,o.wg)(),(0,o.j4)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{cols:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o._)("h4",n,(0,a.zw)(l.title),1),(0,o._)("div",m,[(0,o.Wm)(u,{items:l.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var s={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},d=l(3744);const u=(0,d.Z)(s,[["render",i]]);var c=u},5074:function(e,t,l){l.r(t),l.d(t,{default:function(){return M}});var o=l(6252);const a=(0,o._)("i",{class:"bx bx-check-circle"},null,-1),r={id:"tickets-table_length",class:"dataTables_length"},n={class:"d-inline-flex align-items-center"},m={class:"col-sm-12 col-md-6"},i={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},s={class:"d-inline-flex align-items-center"},d={class:"table-responsive mb-0"},u={class:"dataTables_paginate paging_simple_numbers float-end"},c={class:"pagination pagination-rounded mb-0"};function f(e,t,l,f,p,b){const _=(0,o.up)("PageHeader"),w=(0,o.up)("BCol"),h=(0,o.up)("b-button"),g=(0,o.up)("BRow"),W=(0,o.up)("BCardHeader"),T=(0,o.up)("BFormSelect"),V=(0,o.up)("BFormInput"),y=(0,o.up)("BButton"),v=(0,o.up)("BTable"),C=(0,o.up)("BPagination"),k=(0,o.up)("BCardBody"),U=(0,o.up)("BCard"),B=(0,o.up)("TecnicosModal"),N=(0,o.up)("Layout");return(0,o.wg)(),(0,o.j4)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_,{title:e.title,items:e.items},null,8,["title","items"]),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{cols:"12"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{"no-body":""},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{sm:"7"},{default:(0,o.w5)((()=>[a,(0,o.Uk)("   Maestra de Técnicos ")])),_:1}),(0,o.Wm)(w,{sm:"5",style:{"text-align":"right"}},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{onClick:b.exportData},{default:(0,o.w5)((()=>[(0,o.Uk)("Exportar Datos")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"mt-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{sm:"12",md:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o._)("label",n,[(0,o.Uk)(" Show  "),(0,o.Wm)(T,{modelValue:p.perPageTec,"onUpdate:modelValue":t[0]||(t[0]=e=>p.perPageTec=e),size:"sm",options:p.pageOptionsTec},null,8,["modelValue","options"]),(0,o.Uk)(" entries ")])])])),_:1}),(0,o._)("div",m,[(0,o._)("div",i,[(0,o._)("label",s,[(0,o.Uk)(" Search: "),(0,o.Wm)(V,{modelValue:p.filterTec,"onUpdate:modelValue":t[1]||(t[1]=e=>p.filterTec=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,o._)("div",d,[(0,o.Wm)(v,{items:p.tableDataTec,fields:p.fieldsTec,responsive:"sm","per-page":p.perPageTec,"current-page":p.currentPageTec,"sort-by":p.sortByTec,"sort-desc":p.sortDescTec,filter:p.filterTec,"filter-included-fields":p.filterOnTec,onFiltered:b.onFilteredTec},{"cell(actions)":(0,o.w5)((({item:e})=>[(0,o.Wm)(y,{onClick:t=>b.editItem(e),variant:"info"},{default:(0,o.w5)((()=>[(0,o.Uk)("Editar")])),_:2},1032,["onClick"])])),_:1},8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o._)("ul",c,[(0,o.Wm)(C,{modelValue:p.currentPageTec,"onUpdate:modelValue":t[2]||(t[2]=e=>p.currentPageTec=e),"total-rows":p.totalRowsTec,"per-page":p.perPageTec},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(B,{ref:"TecnicosModal"},null,512)])),_:1})}l(560);var p=l(4642),b=l(1022),_=l(9963);const w={class:"mt-4"},h={class:"mt-4"},g={class:"mt-4"},W={class:"mt-4"},T={class:"mt-4"},V={class:"mt-4"},y={class:"mt-4"},v={class:"mt-4"},C={class:"mt-4"},k={class:"mt-4"},U={class:"mt-4"},B={class:"mt-4"},N={class:"mt-4"},x={class:"mt-4"};function A(e,t,l,a,r,n){const m=(0,o.up)("BCardTitle"),i=(0,o.up)("Multiselect"),s=(0,o.up)("BFormGroup"),d=(0,o.up)("BCol"),u=(0,o.up)("BFormInput"),c=(0,o.up)("BRow"),f=(0,o.up)("BButton"),p=(0,o.up)("BCardBody"),b=(0,o.up)("BCard"),A=(0,o.up)("BModal");return(0,o.wg)(),(0,o.j4)(A,{modelValue:r.isOpen,"onUpdate:modelValue":t[14]||(t[14]=e=>r.isOpen=e),size:"xl","hide-footer":""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{cols:"12"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{"no-body":""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Editar técnicos")])),_:1}),(0,o._)("form",{autocomplete:"off",class:"row no-gutters",onSubmit:t[13]||(t[13]=(0,_.iM)(((...e)=>n.submit&&n.submit(...e)),["prevent"]))},[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{lg:"4"},{default:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o.Wm)(s,{label:"Tipo de Documento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:r.form.Documento,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.Documento=e),required:"",options:r.tipo_documento,class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"4"},{default:(0,o.w5)((()=>[(0,o._)("div",h,[(0,o.Wm)(s,{label:"Número de Documento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"text",modelValue:r.form.Nro_Documento,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.Nro_Documento=e),placeholder:"Número de documento",required:"",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"4"},{default:(0,o.w5)((()=>[(0,o._)("div",g,[(0,o.Wm)(s,{label:"Apellido Paterno","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Apellido_paterno,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.Apellido_paterno=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"4"},{default:(0,o.w5)((()=>[(0,o._)("div",W,[(0,o.Wm)(s,{label:"Apellido Materno","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Apellido_materno,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.Apellido_materno=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"4"},{default:(0,o.w5)((()=>[(0,o._)("div",T,[(0,o.Wm)(s,{label:"Nombres","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"text",required:"",modelValue:r.form.Nombres,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.Nombres=e),id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",V,[(0,o.Wm)(s,{label:"Fecha de Nacimiento","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Fecha_Nacimiento,"onUpdate:modelValue":t[5]||(t[5]=e=>r.form.Fecha_Nacimiento=e),required:"",type:"date",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o.Wm)(s,{label:"Nacionalidad","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:r.form.Nacionalidad,"onUpdate:modelValue":t[6]||(t[6]=e=>r.form.Nacionalidad=e),options:r.nacionalidad,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",v,[(0,o.Wm)(s,{label:"Cargo","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Cargo,"onUpdate:modelValue":t[7]||(t[7]=e=>r.form.Cargo=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o.Wm)(s,{label:"Género","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:r.form.Genero,"onUpdate:modelValue":t[8]||(t[8]=e=>r.form.Genero=e),options:r.sexo,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",k,[(0,o.Wm)(s,{label:"Contrata","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Contrata,"onUpdate:modelValue":t[9]||(t[9]=e=>r.form.Contrata=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",U,[(0,o.Wm)(s,{label:"Estado","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:r.form.Estado,"onUpdate:modelValue":t[10]||(t[10]=e=>r.form.Estado=e),options:r.estados,required:"",class:"form-control p-0"},null,8,["modelValue","options"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",B,[(0,o.Wm)(s,{label:"Carnet","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Carnet,"onUpdate:modelValue":t[11]||(t[11]=e=>r.form.Carnet=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1}),(0,o.Wm)(d,{lg:"3"},{default:(0,o.w5)((()=>[(0,o._)("div",N,[(0,o.Wm)(s,{label:"Zonal","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.Zonal,"onUpdate:modelValue":t[12]||(t[12]=e=>r.form.Zonal=e),required:"",type:"text",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])])),_:1})])),_:1}),(0,o._)("div",x,[(0,o.Wm)(f,{type:"submit",variant:"primary",onSubmit:(0,_.iM)(n.submit,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Uk)("Guardar")])),_:1},8,["onSubmit"])])],32)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var D=l(7091),F={components:{Multiselect:D.Z},data(){return{value:null,tipo_documento:["DNI","RUC"],nacionalidad:["PERUANA","EXTRANJERA"],sexo:["M","F"],estados:["BAJA","OK"],form:{},isOpen:!1}},mounted(){this.initForm()},methods:{initForm(){this.form={Documento:null,Nro_Documento:null,Apellido_paterno:null,Apellido_materno:null,Nombres:null,Fecha_Nacimiento:null,Nacionalidad:null,Cargo:null,Genero:null,Contrata:null,Estado:null,Carnet:null,Nombre_Completo:null,Zonal:null}},async submit(){this.form.Nombre_Completo=this.form.Apellido_paterno+" "+this.form.Apellido_materno+" "+this.form.Nombres,this.$http.put(this.$apiURL+"technical/update/"+this.form.id,this.form,{}).then((e=>{200==e.status&&(this.form={},this.initForm(),this.$swal({title:"Actualizado!",text:e.data.message,icon:"success",confirmButtonColor:"#6457A2"}),setTimeout((()=>{window.location.reload()}),2e3))})).catch((e=>{console.error(e),this.$swal({icon:"error",title:"Oops...",text:e})}))},open(e){this.isOpen=!0,this.form=e},saveChanges(){this.$emit("edit-complete",this.selectedItem),this.close()},close(){this.isOpen=!1,this.selectedItem=null}},middleware:"authentication"},P=l(3744);const R=(0,P.Z)(F,[["render",A]]);var E=R,q={components:{Layout:p.Z,PageHeader:b.Z,TecnicosModal:E},data(){return{itemsTec:[{text:"Charts",href:"/"},{text:"Apex",active:!0}],tableDataTec:[],totalRowsTec:1,currentPageTec:1,perPageTec:25,pageOptionsTec:[10,25,50,100],filterOnTec:[],filterTec:null,sortByTec:"age",sortDescTec:!1,fieldsTec:[{key:"Documento",sortable:!0},{key:"Nro_Documento",sortable:!0},{key:"Fecha_Nacimiento",sortable:!0},{key:"Nacionalidad",sortable:!0},{key:"Cargo",sortable:!0},{key:"Genero",sortable:!0},{key:"Contrata",sortable:!0},{key:"Estado",sortable:!0},{key:"Carnet",sortable:!0},{key:"Nombre_Completo",sortable:!0},{key:"Zonal",sortable:!0},{key:"actions"}]}},mounted(){this.totalRowsTec=this.itemsTec.length,this.getTableTec()},methods:{onFilteredTec(e){this.totalRowsTec=e.length,this.currentPageTec=1},async getTableTec(){try{const e=await this.$http.get(this.$apiURL+"technical/all");e.data.data.map((e=>this.tableDataTec.push({...e}))),this.totalRowsTec=this.tableDataTec.length}catch(e){console.error(e)}},editItem(e){console.log("Editar item",e),this.selectedItem=JSON.parse(JSON.stringify(e)),this.$refs.TecnicosModal.open(this.selectedItem)},exportData(){const e=this.tableDataTec,t=this.fieldsTec.filter((e=>"actions"!==e.key));let l="data:text/csv;charset=utf-8,";l+=t.map((e=>e.key)).join(",")+"\r\n",e.forEach((e=>{const o=t.map((t=>`"${e[t.key]}"`)).join(",");l+=o+"\r\n"}));const o=encodeURI(l),a=document.createElement("a");a.setAttribute("href",o),a.setAttribute("download","datos.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},middleware:"authentication"};const O=(0,P.Z)(q,[["render",f]]);var M=O}}]);
//# sourceMappingURL=103.4b9a42a7.js.map