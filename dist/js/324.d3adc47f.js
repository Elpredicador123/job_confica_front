"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[324],{3469:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var l=a(6252),n=a(3577);const s=(0,l._)("div",{class:"button-items d-flex flex-wrap gap-2"},[(0,l._)("a",{class:"btn btn-primary",href:"https://back.comficaconect.com/importdiary",role:"button",target:"_blank"},"Importar Agendas"),(0,l._)("a",{class:"btn btn-primary",href:"https://back.comficaconect.com/importaudit",role:"button",target:"_blank"},"Importar Auditorias"),(0,l._)("a",{class:"btn btn-primary",href:"https://back.comficaconect.com/importevidence",role:"button",target:"_blank"},"Importar Evidencias")],-1),i=(0,l._)("i",{class:"bx bx-check-circle"},null,-1),r=(0,l._)("i",{class:"bx bx-check-circle"},null,-1);function o(t,e,a,o,u,c){const d=(0,l.up)("BCardBody"),m=(0,l.up)("BCard"),w=(0,l.up)("BCol"),g=(0,l.up)("BCardTitle"),p=(0,l.up)("BCarouselSlide"),h=(0,l.up)("BCarousel"),b=(0,l.up)("BRow"),f=(0,l.up)("BCardHeader"),_=(0,l.up)("Layout");return(0,l.wg)(),(0,l.j4)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{lg:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{"no-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[s])),_:1})])),_:1})])),_:1}),(0,l.Wm)(w,{lg:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.tableData,(t=>((0,l.wg)(),(0,l.j4)(w,{cols:"12",key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:e=>c.handleCardClick(t.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{innerHTML:t.title},null,8,["innerHTML"]),(0,l.Wm)(g,{innerHTML:c.truncateText(t.description,30)},null,8,["innerHTML"]),(0,l.Wm)(h,{interval:3e3,style:{"text-shadow":"0px 0px 2px #000",width:"75%",margin:"0 auto"},controls:"",id:"carousel"+t.id},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.images,(t=>((0,l.wg)(),(0,l.j4)(p,{key:t.id,"img-src":c.getFullImageUrl(t.url)},null,8,["img-src"])))),128))])),_:2},1032,["id"])])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,l.Wm)(w,{lg:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{"np-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{sm:"7"},{default:(0,l.w5)((()=>[i,(0,l.Uk)("   Reserva de salas ")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,n.zw)(u.DiaActual),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.TablaReservas,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"table-responsive mb-0",key:e},[(0,l._)("li",null,(0,n.zw)(t.date)+" | "+(0,n.zw)(t.start_time)+" - "+(0,n.zw)(t.end_time)+" | "+(0,n.zw)(t.user_id),1)])))),128))])),_:1})])),_:1})])),_:1}),(0,l.Wm)(w,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{"np-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{sm:"7"},{default:(0,l.w5)((()=>[r,(0,l.Uk)("   Cumpleaños ")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,n.zw)(u.DiaActual),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.TablaCumpleanios,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"table-responsive mb-0",key:e},[(0,l._)("li",null," | "+(0,n.zw)(t.username),1)])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(560);var u=a(5705),c=a(760),d=a(4642),m={components:{Layout:d.Z},setup(){return{v$:(0,u.Xw)()}},data(){return{title:"Calendar",items:[{text:"Minible"},{text:"Calendar",active:!0}],TablaReservas:[],TablaCumpleanios:[],currentEvents:[],tableData:[],DiaActual:null}},validations:{event:{title:{required:c.C1},category:{required:c.C1}}},mounted(){this.getData(),this.getData2(),this.getDataNews(),this.obtenerSemanaActual()},computed:{truncatedTitle(){return console.log(this.newsItem),this.newsItem&&this.newsItem.title&&this.newsItem.title.length>30?this.newsItem.title.substring(0,30)+"... ver más":""},truncatedDescription(){return this.newsItem&&this.newsItem.description&&this.newsItem.description.length>30?this.newsItem.description.substring(0,30)+"... ver más":""}},methods:{async getDataNews(){try{const t=await this.$http.get(this.$apiURL+"news/principal");t.data.data.map((t=>this.tableData.push({...t})))}catch(t){console.error(t)}},getFullImageUrl(t){return console.log(t),this.$storageURL+"/"+t},async getData(){try{const t=await this.$http.get(this.$apiURL+"user/all");t.data.data.map((t=>this.TablaCumpleanios.push({...t}))),this.TablaCumpleanios=t.data.data.map((t=>{const e=new Date(t.date),a=`${e.getDate()} de ${e.toLocaleString("es-ES",{month:"long"})}`;return{username:t.username,date:a}}))}catch(t){console.error(t)}},obtenerSemanaActual(){const t=new Date,e=new Date(t.setDate(t.getDate()-t.getDay()+(0===t.getDay()?-6:1))),a=new Date(t.setDate(t.getDate()-t.getDay()+7)),l={weekday:"long",day:"numeric",month:"long"},n=e.toLocaleDateString("es-ES",l),s=a.toLocaleDateString("es-ES",l);this.DiaActual=`Semana del ${n} al ${s}`},async getData2(){try{const t=await this.$http.get(this.$apiURL+"reservation/all");console.log(t),this.TablaReservas=t.data.data.map((t=>{const e=t.start_time.slice(0,5),a=t.end_time.slice(0,5),l=new Date(t.date),n=`${l.getDate()} de ${l.toLocaleString("es-ES",{month:"long"})}`;return{nombre:t.title,start_time:e,end_time:a,date:n}}))}catch(t){console.error(t)}},truncateText(t,e){return t.length>e?t.substring(0,e)+"... ver más":t},handleCardClick(){}}},w=a(3744);const g=(0,w.Z)(m,[["render",o]]);var p=g}}]);
//# sourceMappingURL=324.d3adc47f.js.map