"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[193],{79:function(e,l,t){t.d(l,{Z:function(){return w}});var i=t(6252),o=t(3577),r=t(9963);const a={class:"dz-message needsclick mt-5"},s={class:"mb-3"},n={key:0,class:"display-4 text-muted uil uil-cloud-upload"},d={key:1,class:"bi bi-cloud-download fs-1"},u={key:0,class:"fs-md mb-0"},p={key:1},c=["for"],m=["id","multiple"];function f(e,l,t,f,g,h){return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)([[{"active-dropzone":g.active},t.dropzoneClass],"dropzone text-center dz-clickable"]),onDragenter:l[0]||(l[0]=(0,r.iM)(((...e)=>h.toggleActive&&h.toggleActive(...e)),["prevent"])),onDragleave:l[1]||(l[1]=(0,r.iM)(((...e)=>h.toggleActive&&h.toggleActive(...e)),["prevent"])),onDragover:l[2]||(l[2]=(0,r.iM)((()=>{}),["prevent"])),onDrop:l[3]||(l[3]=(0,r.iM)(((...e)=>h.toggleActive&&h.toggleActive(...e)),["prevent"]))},[(0,i._)("div",a,[(0,i._)("div",s,["remix"==t.cloudIcon?((0,i.wg)(),(0,i.iD)("i",n)):(0,i.kq)("",!0),"bootstrap"==t.cloudIcon?((0,i.wg)(),(0,i.iD)("i",d)):(0,i.kq)("",!0)]),"bootstrap"==t.cloudIcon?((0,i.wg)(),(0,i.iD)("h5",u," Drop files here or click to upload. ")):(0,i.kq)("",!0),"remix"==t.cloudIcon?((0,i.wg)(),(0,i.iD)("h4",p," Drop "+(0,o.zw)(t.files)+" here or click to upload. ",1)):(0,i.kq)("",!0),(0,i._)("label",{for:t.dropzoneFile,class:"stretched-link"},null,8,c),(0,i._)("input",{type:"file",id:t.dropzoneFile,class:(0,o.C_)(["btn btn-primary d-none",t.dropzoneFile]),multiple:t.isMultiple,accept:".jpg,.jpeg,.png,.tiff,.webp"},null,10,m)])],34)}var g={name:"dropzone",props:{files:{type:String,default:""},cloudIcon:{type:String,default:""},dropzoneClass:{type:String,default:""},dropzoneFile:{type:String,default:"dropzoneFile"},isMultiple:{type:Boolean,default:!1}},data(){return{active:!1}},methods:{toggleActive(){this.active=!this.active}}},h=t(3744);const v=(0,h.Z)(g,[["render",f]]);var w=v},1022:function(e,l,t){t.d(l,{Z:function(){return c}});var i=t(6252),o=t(3577);const r={class:"page-title-box d-flex align-items-center justify-content-between"},a={class:"mb-0"},s={class:"page-title-right"};function n(e,l,t,n,d,u){const p=(0,i.up)("b-breadcrumb"),c=(0,i.up)("BCol"),m=(0,i.up)("BRow");return(0,i.wg)(),(0,i.j4)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{cols:"12"},{default:(0,i.w5)((()=>[(0,i._)("div",r,[(0,i._)("h4",a,(0,o.zw)(t.title),1),(0,i._)("div",s,[(0,i.Wm)(p,{items:t.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var d={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},u=t(3744);const p=(0,u.Z)(d,[["render",n]]);var c=p},5477:function(e,l,t){t.r(l),t.d(l,{default:function(){return C}});var i=t(6252),o=t(9963),r=t(3577),a=t(2381);const s=(0,i._)("p",null,"Es video?",-1),n={key:0},d={class:"list-unstyled mb-0",id:"dropzone-preview2"},u={class:"mt-2",id:"dropzone-preview-list2"},p={class:"d-flex p-2"},c=(0,i._)("div",{class:"flex-shrink-0 me-3"},[(0,i._)("div",{class:"avatar-sm bg-light rounded"},[(0,i._)("img",{class:"img-fluid rounded d-block",src:a,alt:"Dropzone-Image"})])],-1),m={class:"flex-grow-1"},f={class:"pt-1"},g={class:"fs-md mb-1"},h={class:"fs-sm text-muted mb-0"},v=(0,i._)("strong",{class:"error text-danger"},null,-1),w={class:"flex-shrink-0 ms-3"};function y(e,l,t,a,y,D){const A=(0,i.up)("PageHeader"),_=(0,i.up)("BFormInput"),b=(0,i.up)("BFormGroup"),F=(0,i.up)("BCol"),z=(0,i.up)("BRow"),k=(0,i.up)("BCardBody"),W=(0,i.up)("BCard"),C=(0,i.up)("BFormCheckbox"),B=(0,i.up)("DropZone"),x=(0,i.up)("BButton"),M=(0,i.up)("Layout");return(0,i.wg)(),(0,i.j4)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(A,{title:y.title,items:y.items},null,8,["title","items"]),(0,i._)("form",{class:"needs-validation",onSubmit:l[6]||(l[6]=(0,o.iM)(((...e)=>D.submit&&D.submit(...e)),["prevent"]))},[(0,i.Wm)(z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(F,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{"no-body":""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Wm)(z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(F,{lg:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{label:"Nombre de Infografía / Video","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{type:"text",modelValue:y.form.title,"onUpdate:modelValue":l[0]||(l[0]=e=>y.form.title=e),placeholder:"NOMBRE DE INFOGRAFÍA / VIDEO",required:"",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(F,{lg:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{label:"Autor","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{modelValue:y.form.Autor,"onUpdate:modelValue":l[1]||(l[1]=e=>y.form.Autor=e),required:"",type:"text",id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(F,{lg:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{"no-body":""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[s,(0,i.Wm)(b,{class:"form-radio-secondary"},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{modelValue:y.is_video,"onUpdate:modelValue":l[2]||(l[2]=e=>y.is_video=e),switch:"",variant:"secondary",size:"lg"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(F,{lg:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{"no-body":""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[0==y.galleryFiles.length?((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(B,{files:"files",cloudIcon:"remix",dropzoneFile:"galleryDropzoneFile",isMultiple:!1,onDrop:l[3]||(l[3]=(0,o.iM)((e=>D.galleryDrop(e)),["prevent"])),onChange:D.gallerySelectedFile,onDragenter:l[4]||(l[4]=(0,o.iM)((()=>{}),["prevent"])),onDragover:l[5]||(l[5]=(0,o.iM)((()=>{}),["prevent"]))},null,8,["onChange"])])):(0,i.kq)("",!0),(0,i._)("ul",d,[(0,i._)("li",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(y.galleryFiles,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"border rounded mb-1",key:l},[(0,i._)("div",p,[c,(0,i._)("div",m,[(0,i._)("div",f,[(0,i._)("h5",g,"   "+(0,r.zw)(e.name),1),(0,i._)("p",h,[(0,i._)("strong",null,(0,r.zw)(e.size/1024),1),(0,i.Uk)(" KB ")]),v])]),(0,i._)("div",w,[(0,i.Wm)(x,{size:"sm",variant:"danger",onClick:()=>D.deleteRecord(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("Delete")])),_:2},1032,["onClick"])])])])))),128))])])])),_:1})])),_:1})])),_:1}),(0,i.Wm)(F,null,{default:(0,i.w5)((()=>[(0,i.Wm)(x,{type:"submit",variant:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("Guardar")])),_:1})])),_:1})])),_:1})],32)])),_:1})}t(560);var D=t(79),A=t(4642),_=t(1022),b=t(381),F=t.n(b),z={components:{Layout:A.Z,PageHeader:_.Z,DropZone:D.Z},data(){return{title:"NUEVA INFOGRAFÍA",items:[{text:"Infografías",href:"/infografias/create"},{text:"Nueva Inforgrafía",active:!0}],form:{},dPDefaultDate:null,galleryDropzoneFile:"",galleryFiles:[],DropFile:[],is_video:!1,url_envio:""}},async created(){this.initForm()},methods:{initForm(){const e=JSON.parse(localStorage.getItem("user"));console.log(e),this.form={title:null,Autor:e.username,date:F()().format("YYYY-MM-DD HH:mm:ss"),url:"aa"},this.dPDefaultDate=null,this.galleryDropzoneFile="",this.galleryFiles=[],this.DropFile=[]},deleteRecord(e){console.log("call Delet"),e.id&&(this.galleryFiles=this.galleryFiles.filter((l=>l.id!=e.id)))},galleryDrop(e){e.preventDefault(),this.galleryDropzoneFile=e.dataTransfer.files,this.galleryFiles.push(this.galleryDropzoneFile)},gallerySelectedFile(){this.galleryDropzoneFile=document.querySelector(".galleryDropzoneFile").files,this.DropFile.push(this.galleryDropzoneFile);const e=Object.values(this.galleryDropzoneFile).map((e=>({name:e.name,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,webkitRelativePath:e.webkitRelativePath,size:e.size})));this.galleryFiles.push(...e),this.galleryFiles=this.galleryFiles.map(((e,l)=>({id:l+1,...e})))},async submit(){let e=new FormData;if(Object.keys(this.form).forEach((l=>{e.append(l,this.form[l])})),console.log(this.DropFile),this.DropFile&&this.DropFile.length>0)for(let l=0;l<this.DropFile.length;l++)e.append("file",this.DropFile[l][0]);console.log(e),1==this.is_video?this.url_envio="video/store":this.url_envio="infographic/store",this.$http.post(this.$apiURL+this.url_envio,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200==e.status&&(console.log(e),this.$swal({title:"Completado!",text:e.data.message,icon:"success",confirmButtonColor:"#6457A2"}),this.$swal("Completado!",e.data.message,"success"),this.initForm())})).catch((e=>{console.error(e),this.$swal({icon:"error",title:"Oops...",text:e})}))}},middleware:"authentication"},k=t(3744);const W=(0,k.Z)(z,[["render",y]]);var C=W},2381:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAA+klEQVR4nO1ZSw6CUAzkGpzKSDyLhzDBV0+En1XLzpsYXbQrDQGNMTEE0FfQmWTWzHSmfQuSBAAAYNRYl7og0T2xXkjsGoVcfUt3QTQbJD6wUTTR8pb5gMm7i782icx7TF8P7sKlZmDddjYQtfPSauDc3cAIhNMTYYCQgI2rQuny+FESDLzAu/OEKyTf3QH3BNKpGyDsgE27QngH2uDdecISy4+f0XTqBgg7YNOuEN6BNnh3nrDE4j91+uszGljP3qKpYRA99UhAd97C6U62onsCopm7cKm5KXXW2UCdguXe4olt1Uv8wwTrvIow+i8mtqL35AEAAJJYuAH+VvCKQX6pigAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=193.39082027.js.map