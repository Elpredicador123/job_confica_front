"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[574],{9900:function(e,t,a){function s(e,t){let a={series:e,chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"45%",endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]}},stroke:{show:!0,width:2,colors:["transparent"]},colors:["#10b07a","#dc3545","#f1b44c"],xaxis:{categories:t},yaxis:{title:{text:""}},grid:{borderColor:"#f1f1f1"},fill:{opacity:1}}};return a}function i(e,t,a=null){console.log(e,t);let s=null==a?["#3477C3","#8F34C3","#C3349A","#C33459","#C37534","3479C3"]:["#FF7F50","#91cc75","#ee6666","#fac858","#4DB6AC","34C3B8"],i={series:e,chartOptions:{labels:t,colors:s,legend:{show:!0,position:"bottom",horizontalAlign:"center",verticalAlign:"middle",floating:!1,fontSize:"14px",offsetX:0,offsetY:10},responsive:[{breakpoint:600,options:{chart:{height:240},legend:{show:!1}}}],dataLabels:{style:{fontSize:"14px"}},plotOptions:{pie:{dataLabels:{offset:-20}}}}};return i}function l(e,t){let a={series:[{data:e}],chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"bottom"},distributed:!1}},dataLabels:{enabled:!1},colors:["#34c38f","#556ee6","#f46a6a","#50a5f1","#A5978B","#2b908f","#f9a3a4","#90ee7e","#f48024","#69d2e7"],grid:{borderColor:"#f1f1f1"},yaxis:{labels:{show:!0}},xaxis:{categories:t}}};return a}function o(e,t){let a=e.reduce(((e,t)=>e+t),0),s={series:e,chartOptions:{labels:t,colors:["#34c38f","#5b73e8","#f1b44c","#50a5f1","#f46a6a"],legend:{show:!0,position:"bottom",horizontalAlign:"center",verticalAlign:"middle",floating:!1,fontSize:"14px",offsetX:0,offsetY:10},responsive:[{breakpoint:600,options:{chart:{height:240},legend:{show:!1}}}],dataLabels:{enabled:!0,formatter:function(e,t){return"S/ "+t.w.config.series[t.seriesIndex]},style:{fontSize:"14px",fontweight:"bold"}},plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"Total",formatter:function(){return a}},style:{fontSize:"14px",fontweight:"bold"}}}}}}};return s}a.d(t,{$Y:function(){return s},C8:function(){return i},Md:function(){return o},Sr:function(){return l}})},1022:function(e,t,a){a.d(t,{Z:function(){return p}});var s=a(6252),i=a(3577);const l={class:"page-title-box d-flex align-items-center justify-content-between"},o={class:"mb-0"},r={class:"page-title-right"};function n(e,t,a,n,d,c){const u=(0,s.up)("b-breadcrumb"),p=(0,s.up)("BCol"),h=(0,s.up)("BRow");return(0,s.wg)(),(0,s.j4)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("h4",o,(0,i.zw)(a.title),1),(0,s._)("div",r,[(0,s.Wm)(u,{items:a.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var d={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},c=a(3744);const u=(0,c.Z)(d,[["render",n]]);var p=u},672:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(6252);const i=(0,s._)("i",{class:"bx bx-check-circle"},null,-1),l=(0,s._)("i",{class:"bx bx-check-circle"},null,-1),o=(0,s._)("i",{class:"bx bx-check-circle"},null,-1),r={class:"table-responsive mb-0"},n=(0,s._)("i",{class:"bx bx-check-circle"},null,-1),d={class:"table-responsive mb-0"};function c(e,t,a,c,u,p){const h=(0,s.up)("PageHeader"),f=(0,s.up)("BCardHeader"),m=(0,s.up)("BCol"),g=(0,s.up)("BFormSelect"),b=(0,s.up)("BRow"),S=(0,s.up)("apexchart"),w=(0,s.up)("BCardBody"),y=(0,s.up)("BCard"),T=(0,s.up)("BTable"),_=(0,s.up)("Layout");return(0,s.wg)(),(0,s.j4)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{title:u.title,items:u.items},null,8,["title","items"]),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,s.w5)((()=>[i,(0,s.Uk)("   Cumplimiento agenda - Contrata")])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{cols:"7"}),(0,s.Wm)(m,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(g,{modelValue:u.ciudadId1,"onUpdate:modelValue":t[0]||(t[0]=e=>u.ciudadId1=e),size:"sm",options:u.Ciudades,onChange:t[1]||(t[1]=e=>p.getContrata())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(S,{class:"apex-charts",height:"350",type:"bar",dir:"ltr",series:u.ContrataBar.series,options:u.ContrataBar.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(m,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,s.w5)((()=>[l,(0,s.Uk)("   Cumplimiento agenda - Gestor")])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{cols:"7"}),(0,s.Wm)(m,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(g,{modelValue:u.ciudadId2,"onUpdate:modelValue":t[2]||(t[2]=e=>u.ciudadId2=e),size:"sm",options:u.Ciudades,onChange:t[3]||(t[3]=e=>p.getGestor())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s.Wm)(S,{class:"apex-charts",height:"350",type:"bar",dir:"ltr",series:u.GestorBar.series,options:u.GestorBar.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(m,{lg:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,s.w5)((()=>[o,(0,s.Uk)("   Averías de infancia - Sup")])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{cols:"7"}),(0,s.Wm)(m,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(g,{modelValue:u.ciudadId3,"onUpdate:modelValue":t[4]||(t[4]=e=>u.ciudadId3=e),size:"sm",options:u.Ciudades,onChange:t[5]||(t[5]=e=>p.getTableSup())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s._)("div",r,[(0,s.Wm)(T,{items:u.tableDataSup,fields:u.fieldsSup,responsive:"sm","per-page":u.perPageSup,"current-page":u.currentPageSup,"sort-by":u.sortBySup,"sort-desc":u.sortDescSup,filter:u.filterSup,"filter-included-fields":u.filterOnSup,onFiltered:p.onFilteredSup},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(m,{lg:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{padding:"1em","background-color":"#5b73e8",color:"#ffff !important"}},{default:(0,s.w5)((()=>[n,(0,s.Uk)("   Averías de infancia - Tec")])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{cols:"7"}),(0,s.Wm)(m,{cols:"5"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Filtrar por: "),(0,s.Wm)(g,{modelValue:u.ciudadId4,"onUpdate:modelValue":t[6]||(t[6]=e=>u.ciudadId4=e),size:"sm",options:u.Ciudades,onChange:t[7]||(t[7]=e=>p.getTableTec())},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,s._)("div",d,[(0,s.Wm)(T,{items:u.tableDataTec,fields:u.fieldsTec,responsive:"sm","per-page":u.perPageTec,"current-page":u.currentPageTec,"sort-by":u.sortByTec,"sort-desc":u.sortDescTec,filter:u.filterTec,"filter-included-fields":u.filterOnTec,onFiltered:p.onFilteredTec},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(560);var u=a(4642),p=a(1022),h=a(9900),f={components:{Layout:u.Z,PageHeader:p.Z},data(){return{title:"Provisiónes",tableDataSup:[],tableDataTec:[],ContrataBar:[],GestorBar:[],GestorAgenda:[],GestorOrdenes:[],GestorAgendaId:null,GestorOrdenId:null,Ciudades:[],ciudades_form:{},ciudadId1:null,ciudadId2:null,ciudadId3:null,ciudadId4:null,items:[{text:"Privisiones"}],totalRowsSup:1,currentPageSup:1,perPageSup:20,pageOptionsSup:[3,10,25,50,100],filterOnSup:[],filterSup:null,sortBySup:"age",sortDescSup:!1,fieldsSup:[],totalesSup:0,totalRowsTec:1,currentPageTec:1,perPageTec:20,pageOptionsTec:[3,10,25,50,100],filterOnTec:[],filterTec:null,sortByTec:"age",sortDescTec:!1,fieldsTec:[],totalesTec:0,previousContrataData:null,previousGestorData:null,previousTableSupData:null,previousTableTecData:null,previousCityData:null}},mounted(){this.totalRowsSup=this.tableDataSup.length,this.totalRowsTec=this.tableDataTec.length,this.getCity()},methods:{onFilteredSup(e){this.totalRowsSup=e.length,this.currentPageSup=1},onFilteredTec(e){this.totalRowsTec=e.length,this.currentPageTec=1},async getContrata(){null!=this.ciudadId1?this.$nextTick((async()=>{const e=7e3,t=this.$http.get(this.$apiURL+"provision/diarycontratagraphic/"+this.ciudadId1),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s&&s.data.series&&s.data.categories)this.ContrataBar={...(0,h.Sr)(s.data.series,s.data.categories)},localStorage.setItem("contrata_bar_provision",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("contrata_bar_provision"));this.ContrataBar=e?{...(0,h.Sr)(e.data.series,e.data.categories)}:{...(0,h.Sr)([],[])}}})):this.ContrataBar={...(0,h.Sr)([],[])}},async getGestor(){try{null!=this.ciudadId2?this.$nextTick((async()=>{const e=7e3,t=this.$http.get(this.$apiURL+"provision/diarymanagergraphic/"+this.ciudadId2),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(s&&s.data.series&&s.data.categories)this.GestorBar={...(0,h.Sr)(s.data.series,s.data.categories)},localStorage.setItem("diary_manager_provision",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("diary_manager_provision"));this.GestorBar=e?{...(0,h.Sr)(e.data.series,e.data.categories)}:{...(0,h.Sr)([],[])}}})):this.GestorBar={...(0,h.Sr)([],[])}}catch(e){console.error(e)}},async getTableSup(){try{null!=this.ciudadId3&&this.$nextTick((async()=>{const e=4e3,t=this.$http.get(this.$apiURL+"provision/childhoodbreakdownsmanagers/"+this.ciudadId3),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(this.tableDataSup.splice(0,this.tableDataSup.length),this.fieldsSup.splice(0,this.fieldsSup.length),s&&s.data.series&&s.data.fields)s.data.series.map((e=>this.tableDataSup.push({...e}))),s.data.fields.map((e=>this.fieldsSup.push({key:e,sortable:!0}))),this.totalRowsSup=this.tableDataSup.length,localStorage.setItem("installation_manager_provision",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("installation_manager_provision"));e&&(e.data.series.map((e=>this.tableDataSup.push({...e}))),e.data.fields.map((e=>this.fieldsSup.push({key:e,sortable:!0}))),this.totalRowsSup=this.tableDataSup.length)}}))}catch(e){console.error(e)}},async getTableTec(){try{null!=this.ciudadId4&&this.$nextTick((async()=>{const e=4e3,t=this.$http.get(this.$apiURL+"provision/childhoodbreakdownstechnicians/"+this.ciudadId4),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);if(this.tableDataTec.splice(0,this.tableDataTec.length),this.fieldsTec.splice(0,this.fieldsTec.length),s&&s.data.series&&s.data.fields)s.data.series.map((e=>this.tableDataTec.push({...e}))),s.data.fields.map((e=>this.fieldsTec.push({key:e,sortable:!0}))),this.totalRowsTec=this.tableDataTec.length,localStorage.setItem("childhood_table",JSON.stringify(s));else{const e=JSON.parse(localStorage.getItem("childhood_table"));e&&(e.data.series.map((e=>this.tableDataTec.push({...e}))),e.data.fields.map((e=>this.fieldsTec.push({key:e,sortable:!0}))),this.totalRowsTec=this.tableDataTec.length)}}))}catch(e){console.error(e)}},async getCity(){try{const e=4e3,t=this.$http.get(this.$apiURL+"city/all"),a=new Promise((t=>setTimeout(t,e))),s=await Promise.race([t,a]);s&&s.data.data?(s.data.data.forEach((e=>this.Ciudades.push(e.name))),this.ciudadId1=this.Ciudades[0],this.ciudadId2=this.Ciudades[0],this.ciudadId3=this.Ciudades[0],this.ciudadId4=this.Ciudades[0]):(this.ciudadId="Lima",this.ciudadId2="Lima",this.ciudadId3="Lima",this.ciudadId4="Lima"),this.getTableTec(),this.getContrata(),this.getGestor(),this.getTableSup()}catch(e){console.error(e)}}},middleware:"authentication"},m=a(3744);const g=(0,m.Z)(f,[["render",c]]);var b=g}}]);
//# sourceMappingURL=574.33bfcf31.js.map