"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[798],{9900:function(e,t,a){function s(e,t){let a={series:e,chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"45%",endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]}},stroke:{show:!0,width:2,colors:["transparent"]},colors:["#10b07a","#dc3545","#f1b44c"],xaxis:{categories:t},yaxis:{title:{text:""}},grid:{borderColor:"#f1f1f1"},fill:{opacity:1}}};return a}function l(e,t,a=null){console.log(e,t);let s=null==a?["#3477C3","#8F34C3","#C3349A","#C33459","#C37534","3479C3"]:["#FF7F50","#91cc75","#ee6666","#fac858","#4DB6AC","34C3B8"],l={series:e,chartOptions:{labels:t,colors:s,legend:{show:!0,position:"bottom",horizontalAlign:"center",verticalAlign:"middle",floating:!1,fontSize:"14px",offsetX:0,offsetY:10},responsive:[{breakpoint:600,options:{chart:{height:240},legend:{show:!1}}}],dataLabels:{style:{fontSize:"14px"}},plotOptions:{pie:{dataLabels:{offset:-20}}}}};return l}function i(e,t){let a={series:[{data:e}],chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"bottom"},distributed:!1}},dataLabels:{enabled:!1},colors:["#34c38f","#556ee6","#f46a6a","#50a5f1","#A5978B","#2b908f","#f9a3a4","#90ee7e","#f48024","#69d2e7"],grid:{borderColor:"#f1f1f1"},yaxis:{labels:{show:!0}},xaxis:{categories:t}}};return a}function o(e,t){let a={series:e,chartOptions:{labels:t,colors:["#34c38f","#5b73e8","#f1b44c","#50a5f1","#f46a6a"],legend:{show:!0,position:"bottom",horizontalAlign:"center",verticalAlign:"middle",floating:!1,fontSize:"14px",offsetX:0,offsetY:10},responsive:[{breakpoint:600,options:{chart:{height:240},legend:{show:!1}}}]}};return a}a.d(t,{$Y:function(){return s},C8:function(){return l},Md:function(){return o},Sr:function(){return i}})},1022:function(e,t,a){a.d(t,{Z:function(){return g}});var s=a(6252),l=a(3577);const i={class:"page-title-box d-flex align-items-center justify-content-between"},o={class:"mb-0"},n={class:"page-title-right"};function r(e,t,a,r,c,d){const u=(0,s.up)("b-breadcrumb"),g=(0,s.up)("BCol"),p=(0,s.up)("BRow");return(0,s.wg)(),(0,s.j4)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("h4",o,(0,l.zw)(a.title),1),(0,s._)("div",n,[(0,s.Wm)(u,{items:a.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var c={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},d=a(3744);const u=(0,d.Z)(c,[["render",r]]);var g=u},2139:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var s=a(6252),l=a(3577);const i={class:"row"},o={class:"table-responsive mb-0"},n={class:"table-responsive mb-0"},r={class:"row"},c={id:"tickets-table_length",class:"dataTables_length"},d={class:"d-inline-flex align-items-center"},u={class:"col-sm-12 col-md-6"},g={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},p={class:"d-inline-flex align-items-center"},f={class:"table-responsive mb-0"},m={class:"dataTables_paginate paging_simple_numbers float-end"},h={class:"pagination pagination-rounded mb-0"},b={class:"row"},D={class:"table-responsive mb-0"},w={class:"row"};function _(e,t,a,_,y,P){const W=(0,s.up)("PageHeader"),A=(0,s.up)("BCardTitle"),C=(0,s.up)("apexchart"),S=(0,s.up)("BCardBody"),O=(0,s.up)("BCard"),v=(0,s.up)("BCol"),I=(0,s.up)("BRow"),x=(0,s.up)("BTable"),F=(0,s.up)("BFormSelect"),k=(0,s.up)("BFormInput"),B=(0,s.up)("BPagination"),M=(0,s.up)("Layout");return(0,s.wg)(),(0,s.j4)(M,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{title:y.title,items:e.items},null,8,["title","items"]),(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Avance instalaciones")])),_:1}),(0,s.Wm)(C,{class:"apex-charts",height:"350",type:"bar",dir:"ltr",series:y.columnChart.series,options:y.columnChart.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Avance mantenimientos")])),_:1}),(0,s.Wm)(C,{class:"apex-charts",height:"350",type:"bar",dir:"ltr",series:y.columnChart2.series,options:y.columnChart2.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,s._)("div",i,[(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Instalaciones")])),_:1}),(0,s._)("div",o,[(0,s.Wm)(x,{items:y.tableData,fields:y.fields,responsive:"sm","per-page":y.perPage,"current-page":y.currentPage,"sort-by":y.sortBy,"sort-desc":y.sortDesc,filter:y.filter,"filter-included-fields":y.filterOn,onFiltered:e.onFiltered},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Mantenimientos")])),_:1}),(0,s._)("div",n,[(0,s.Wm)(x,{items:y.tableData2,fields:y.fields2,responsive:"sm","per-page":y.perPage2,"current-page":y.currentPage2,"sort-by":y.sortBy2,"sort-desc":y.sortDesc2,filter:y.filter2,"filter-included-fields":y.filterOn2,onFiltered:e.onFiltered},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])])])),_:1})])),_:1})])),_:1})]),(0,s._)("div",r,[(0,s.Wm)(v,{lg:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Producción Día : S/"+(0,l.zw)(y.totalesPorDia),1)])),_:1}),(0,s.Wm)(I,{class:"mt-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{sm:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("label",d,[(0,s.Uk)(" Show  "),(0,s.Wm)(F,{modelValue:y.perPagePorDia,"onUpdate:modelValue":t[0]||(t[0]=e=>y.perPagePorDia=e),size:"sm",options:y.pageOptionsPorDia},null,8,["modelValue","options"]),(0,s.Uk)(" entries ")])])])),_:1}),(0,s._)("div",u,[(0,s._)("div",g,[(0,s._)("label",p,[(0,s.Uk)(" Search: "),(0,s.Wm)(k,{modelValue:y.filterPorDia,"onUpdate:modelValue":t[1]||(t[1]=e=>y.filterPorDia=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,s._)("div",f,[(0,s.Wm)(x,{items:y.tableDataPorDia,fields:y.fieldsPorDia,responsive:"sm","per-page":y.perPagePorDia,"current-page":y.currentPagePorDia,"sort-by":y.sortByPorDia,"sort-desc":y.sortDescPorDia,filter:y.filterPorDia,"filter-included-fields":y.filterOnPorDia,onFiltered:P.onFilteredPorDia},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",m,[(0,s._)("ul",h,[(0,s.Wm)(B,{modelValue:y.currentPagePorDia,"onUpdate:modelValue":t[2]||(t[2]=e=>y.currentPagePorDia=e),"total-rows":y.totalRowsPorDia,"per-page":y.perPagePorDia},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Producción día - Instalaciones")])),_:1}),(0,s.Wm)(C,{class:"apex-charts",height:"320",type:"donut",dir:"ltr",series:y.donutInstalaciones.series,options:y.donutInstalaciones.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Producción día - Reparaciones")])),_:1}),(0,s.Wm)(C,{class:"apex-charts",height:"320",type:"donut",dir:"ltr",series:y.donutMaintenance.series,options:y.donutMaintenance.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1})]),(0,s._)("div",b,[(0,s.Wm)(v,{lg:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Agenda a 7 días")])),_:1}),(0,s._)("div",D,[(0,s.Wm)(x,{items:y.tableDataAgenda,fields:y.fieldsAgenda,responsive:"sm","per-page":y.perPageAgenda,"current-page":y.currentPageAgenda,"sort-by":y.sortByAgenda,"sort-desc":y.sortDescAgenda,filter:y.filterAgenda,"filter-included-fields":y.filterOnAgenda,onFiltered:P.onFilteredAgenda},null,8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])])])),_:1})])),_:1})])),_:1})]),(0,s._)("div",w,[(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Ratio de instalaciones tec")])),_:1}),(0,s.Wm)(C,{class:"apex-charts",height:"320",type:"pie",dir:"ltr",series:y.pieChart.series,options:y.pieChart.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,{lg:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{"no-body":""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Ratio de mantenimientos tec")])),_:1}),(0,s.Wm)(C,{class:"apex-charts",height:"320",type:"pie",dir:"ltr",series:y.pieChart2.series,options:y.pieChart2.chartOptions},null,8,["series","options"])])),_:1})])),_:1})])),_:1})])])),_:1})}a(560);var y=a(4642),P=a(1022),W=a(9900),A={components:{Layout:y.Z,PageHeader:P.Z},data(){return{columnChart:[],columnChartAux:[],columnChart2:[],pieChart:[],pieChart2:[],donutInstalaciones:[],donutMaintenance:[],title:"Cuadro de Mando",tableData:[],tableData2:[],tableDataPorDia:[],tableDataAgenda:[],currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,tableDate:null,fields:[],totalRows2:1,currentPage2:1,perPage2:10,pageOptions2:[10,25,50,100],filter2:null,filterOn2:[],sortBy2:"age",sortDesc2:!1,tableDate2:null,fields2:[],totalRowsPorDia:1,currentPagePorDia:1,perPagePorDia:10,pageOptionsPorDia:[10,25,50,100],filterOnPorDia:[],filterPorDia:null,sortByPorDia:"age",sortDescPorDia:!1,fieldsPorDia:[],totalesPorDia:0,tableDatePorDia:null,totalRowsAgenda:1,currentPageAgenda:1,perPageAgenda:4,pageOptionsAgenda:[4,10,25,50,100],filterOnAgenda:[],filterAgenda:null,sortByAgenda:"age",sortDescAgenda:!1,fieldsAgenda:[],totalesAgenda:0,tableDateAgenda:null,tableDateAux:null}},mounted(){this.totalRows2=this.tableData2.length,this.totalRowsPorDia=this.tableDataPorDia.length,this.totalRowsAgenda=this.tableDataAgenda.length,this.getInstalaciones(),this.getMantenimientos(),this.getTableMantenimientos(),this.getTableInstalaciones(),this.getRatioInstalaciones(),this.getRatioMantenimientos(),this.getTableAgendaPorDias(),this.getTableInstalacionesDia(),this.getTableMantenimientosDia()},methods:{onFilteredPorDia(e){this.totalRowsPorDia=e.length,this.currentPagePorDia=1},onFilteredAgenda(e){this.totalRowsAgenda=e.length,this.currentPageAgenda=1},async fetchData(e,t=7e3){try{const a=this.$http.get(this.$apiURL+e),s=new Promise(((e,a)=>setTimeout((()=>a(new Error("Timeout"))),t))),l=await Promise.race([a,s]);return l.data}catch(a){return console.error("Error fetching data:",a),null}},processTableData(e,t,a,s,l){e.series&&e.fields?(t.push(...e.series.map((e=>({...e})))),a.push(...e.fields.map((e=>({key:e,sortable:!0})))),e.totales&&(this.totalesPorDia=e.totales),l={...e.date},localStorage.setItem(s,JSON.stringify({data:e}))):this.loadFromLocalStorage(s,t,a,l)},loadFromLocalStorage(e,t,a,s){const l=JSON.parse(localStorage.getItem(e));l&&this.processTableData(l.data,t,a,s)},async getTableMantenimientos(){try{const e=await this.fetchData("control-panel/maintenanceprogresstable");e?this.processTableData(e,this.tableData2,this.fields2,"maintenance_progress",this.tableDate2):this.loadFromLocalStorage("maintenance_progress",this.tableData2,this.fields2,this.tableDate2)}catch(e){console.error(e)}},async getTableInstalaciones(){try{const e=await this.fetchData("control-panel/installationprogresstable");e?this.processTableData(e,this.tableData,this.fields,"installation_progress_table",this.tableDate):this.loadFromLocalStorage("installation_progress_table",this.tableData,this.fields,this.tableDate)}catch(e){console.error(e)}},async getTableInstalacionesDia(){try{const e=await this.fetchData("control-panel/productiontableinstallation");if(e)this.donutInstalaciones={...(0,W.Md)(e.series,e.fields)},localStorage.setItem("production_table_installation",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("production_table_installation"));this.donutInstalaciones=e?{...(0,W.Md)(e.series,e.fields)}:{...(0,W.Md)([],[])}}}catch(e){console.error(e)}},async getTableMantenimientosDia(){try{const e=await this.fetchData("control-panel/productiontablemaintenance");if(e)this.donutMaintenance={...(0,W.Md)(e.series,e.fields)},localStorage.setItem("production_table_mantenimientos",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("production_table_mantenimientos"));this.donutMaintenance=e?{...(0,W.Md)(e.series,e.fields)}:{...(0,W.Md)([],[])}}}catch(e){console.error(e)}},async getTableAgendaPorDias(){try{const e=await this.fetchData("control-panel/diarytable");e?(this.processTableData(e,this.tableDataAgenda,this.fieldsAgenda,"agenda_dias",this.tableDateAux),this.totalRowsAgenda=this.tableDataAgenda.length):(this.loadFromLocalStorage("agenda_dias",this.tableDataAgenda,this.fieldsAgenda,this.tableDateAux),this.totalRowsAgenda=this.tableDataAgenda.length)}catch(e){console.error(e)}},async getInstalaciones(){try{const e=await this.fetchData("control-panel/installationprogressgraphic");if(e)this.columnChart={...(0,W.$Y)(e.series,e.categories)},localStorage.setItem("installation_progress",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("installation_progress"));this.columnChart=e?{...(0,W.$Y)(e.data.series,e.data.categories)}:{...(0,W.$Y)([],[])}}}catch(e){console.error(e)}},async getMantenimientos(){try{const e=await this.fetchData("control-panel/maintenanceprogressgraphic");if(e)this.columnChart2={...(0,W.$Y)(e.series,e.categories)},localStorage.setItem("mantenimientos_data",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("mantenimientos_data"));this.columnChart2=e?{...(0,W.$Y)(e.series,e.categories)}:{...(0,W.$Y)([],[])}}}catch(e){console.error(e)}},async getRatioInstalaciones(){try{const e=await this.fetchData("control-panel/installationratiographic");if(e)this.pieChart={...(0,W.C8)(e.series,e.labels)},localStorage.setItem("installation_ratio",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("installation_ratio"));this.pieChart=e?{...(0,W.C8)(e.series,e.labels)}:{...(0,W.C8)([],[])}}}catch(e){console.error(e)}},async getRatioMantenimientos(){try{const e=await this.fetchData("control-panel/maintenanceratiographic");if(e)this.pieChart2={...(0,W.C8)(e.series,e.labels,"distinto")},localStorage.setItem("maintenance_ratio",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("maintenance_ratio"));this.pieChart2=e?{...(0,W.C8)(e.series,e.labels,"distinto")}:{...(0,W.C8)([],[])}}}catch(e){console.error(e)}}},middleware:"authentication"},C=a(3744);const S=(0,C.Z)(A,[["render",_]]);var O=S}}]);
//# sourceMappingURL=798.0d665457.js.map