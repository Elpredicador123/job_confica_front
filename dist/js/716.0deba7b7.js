"use strict";(self["webpackChunkminible"]=self["webpackChunkminible"]||[]).push([[716],{79:function(e,l,t){t.d(l,{Z:function(){return _}});var a=t(6252),o=t(3577),i=t(9963);const r={class:"dz-message needsclick mt-5"},s={class:"mb-3"},n={key:0,class:"display-4 text-muted uil uil-cloud-upload"},d={key:1,class:"bi bi-cloud-download fs-1"},u={key:0,class:"fs-md mb-0"},f={key:1},m=["for"],c=["id","multiple"];function p(e,l,t,p,g,h){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)([[{"active-dropzone":g.active},t.dropzoneClass],"dropzone text-center dz-clickable"]),onDragenter:l[0]||(l[0]=(0,i.iM)(((...e)=>h.toggleActive&&h.toggleActive(...e)),["prevent"])),onDragleave:l[1]||(l[1]=(0,i.iM)(((...e)=>h.toggleActive&&h.toggleActive(...e)),["prevent"])),onDragover:l[2]||(l[2]=(0,i.iM)((()=>{}),["prevent"])),onDrop:l[3]||(l[3]=(0,i.iM)(((...e)=>h.toggleActive&&h.toggleActive(...e)),["prevent"]))},[(0,a._)("div",r,[(0,a._)("div",s,["remix"==t.cloudIcon?((0,a.wg)(),(0,a.iD)("i",n)):(0,a.kq)("",!0),"bootstrap"==t.cloudIcon?((0,a.wg)(),(0,a.iD)("i",d)):(0,a.kq)("",!0)]),"bootstrap"==t.cloudIcon?((0,a.wg)(),(0,a.iD)("h5",u," Drop files here or click to upload. ")):(0,a.kq)("",!0),"remix"==t.cloudIcon?((0,a.wg)(),(0,a.iD)("h4",f," Drop "+(0,o.zw)(t.files)+" here or click to upload. ",1)):(0,a.kq)("",!0),(0,a._)("label",{for:t.dropzoneFile,class:"stretched-link"},null,8,m),(0,a._)("input",{type:"file",id:t.dropzoneFile,class:(0,o.C_)(["btn btn-primary d-none",t.dropzoneFile]),multiple:t.isMultiple,accept:".jpg,.jpeg,.png,.tiff,.webp"},null,10,c)])],34)}var g={name:"dropzone",props:{files:{type:String,default:""},cloudIcon:{type:String,default:""},dropzoneClass:{type:String,default:""},dropzoneFile:{type:String,default:"dropzoneFile"},isMultiple:{type:Boolean,default:!1}},data(){return{active:!1}},methods:{toggleActive(){this.active=!this.active}}},h=t(3744);const w=(0,h.Z)(g,[["render",p]]);var _=w},1022:function(e,l,t){t.d(l,{Z:function(){return m}});var a=t(6252),o=t(3577);const i={class:"page-title-box d-flex align-items-center justify-content-between"},r={class:"mb-0"},s={class:"page-title-right"};function n(e,l,t,n,d,u){const f=(0,a.up)("b-breadcrumb"),m=(0,a.up)("BCol"),c=(0,a.up)("BRow");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{cols:"12"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("h4",r,(0,o.zw)(t.title),1),(0,a._)("div",s,[(0,a.Wm)(f,{items:t.items,class:"m-0"},null,8,["items"])])])])),_:1})])),_:1})}var d={props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},u=t(3744);const f=(0,u.Z)(d,[["render",n]]);var m=f},7883:function(e,l,t){t.r(l),t.d(l,{default:function(){return ke}});var a=t(6252);const o={id:"tickets-table_length",class:"dataTables_length"},i={class:"d-inline-flex align-items-center"},r={class:"col-sm-12 col-md-6"},s={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},n={class:"d-inline-flex align-items-center"},d={class:"table-responsive mb-0"},u=["href"],f=(0,a._)("i",{class:"fas fa-download"},null,-1),m={class:"dataTables_paginate paging_simple_numbers float-end"},c={class:"pagination pagination-rounded mb-0"},p={id:"tickets-table_length",class:"dataTables_length"},g={class:"d-inline-flex align-items-center"},h={class:"col-sm-12 col-md-6"},w={id:"tickets-table_filter",class:"dataTables_filter text-md-end"},_={class:"d-inline-flex align-items-center"},b={class:"table-responsive mb-0"},y=["href"],v=(0,a._)("i",{class:"fas fa-download"},null,-1),D={class:"dataTables_paginate paging_simple_numbers float-end"},F={class:"pagination pagination-rounded mb-0"};function k(e,l,t,k,I,W){const z=(0,a.up)("PageHeader"),A=(0,a.up)("BCardTitle"),B=(0,a.up)("BFormSelect"),U=(0,a.up)("BCol"),V=(0,a.up)("BFormInput"),x=(0,a.up)("BRow"),C=(0,a.up)("BButton"),R=(0,a.up)("BTable"),O=(0,a.up)("BPagination"),M=(0,a.up)("BCardBody"),S=(0,a.up)("BCard"),P=(0,a.up)("VideoModal"),T=(0,a.up)("InfografiaModal"),E=(0,a.up)("Layout");return(0,a.wg)(),(0,a.j4)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z,{title:I.title,items:I.items},null,8,["title","items"]),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("Listado de Videos")])),_:1}),(0,a.Wm)(x,{class:"mt-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{sm:"12",md:"6"},{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("label",i,[(0,a.Uk)(" Show  "),(0,a.Wm)(B,{modelValue:I.perPage,"onUpdate:modelValue":l[0]||(l[0]=e=>I.perPage=e),size:"sm",options:I.pageOptions},null,8,["modelValue","options"]),(0,a.Uk)(" entries ")])])])),_:1}),(0,a._)("div",r,[(0,a._)("div",s,[(0,a._)("label",n,[(0,a.Uk)(" Search: "),(0,a.Wm)(V,{modelValue:I.filter,"onUpdate:modelValue":l[1]||(l[1]=e=>I.filter=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,a._)("div",d,[(0,a.Wm)(R,{items:I.tableData,fields:I.fields,responsive:"sm","per-page":I.perPage,"current-page":I.currentPage,"sort-by":I.sortBy,"sort-desc":I.sortDesc,filter:I.filter,"filter-included-fields":I.filterOn,onFiltered:W.onFiltered},{"cell(url)":(0,a.w5)((e=>[(0,a._)("a",{href:`${this.$storageURL}/${e.item.url}`,target:"_blank",rel:"noopener noreferrer",download:""},[f,(0,a.Uk)(" Descargar ")],8,u)])),"cell(accion)":(0,a.w5)((({item:e})=>[(0,a.Wm)(C,{onClick:l=>W.editItem(e),variant:"info"},{default:(0,a.w5)((()=>[(0,a.Uk)("Editar")])),_:2},1032,["onClick"])])),_:1},8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("ul",c,[(0,a.Wm)(O,{modelValue:I.currentPage,"onUpdate:modelValue":l[2]||(l[2]=e=>I.currentPage=e),"total-rows":I.totalRows,"per-page":I.perPage},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(U,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("Listado de Infografías")])),_:1}),(0,a.Wm)(x,{class:"mt-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{sm:"12",md:"6"},{default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("label",g,[(0,a.Uk)(" Show  "),(0,a.Wm)(B,{modelValue:I.perPageInfografia,"onUpdate:modelValue":l[3]||(l[3]=e=>I.perPageInfografia=e),size:"sm",options:I.pageOptionsInfografia},null,8,["modelValue","options"]),(0,a.Uk)(" entries ")])])])),_:1}),(0,a._)("div",h,[(0,a._)("div",w,[(0,a._)("label",_,[(0,a.Uk)(" Search: "),(0,a.Wm)(V,{modelValue:I.filterInfografia,"onUpdate:modelValue":l[4]||(l[4]=e=>I.filterInfografia=e),type:"search",placeholder:"Search...",class:"form-control form-control-sm ms-2"},null,8,["modelValue"])])])])])),_:1}),(0,a._)("div",b,[(0,a.Wm)(R,{items:I.tableInfografia,fields:I.fieldsInfografia,responsive:"sm","per-page":I.perPageInfografia,"current-page":I.currentPageInfografia,"sort-by":I.sortByInfografia,"sort-desc":I.sortDescInfografia,filter:I.filterInfografia,"filter-included-fields":I.filterOnInfografia,onFiltered:W.onFilteredInfografia},{"cell(url)":(0,a.w5)((e=>[(0,a._)("a",{href:`${this.$storageURL}/${e.item.url}`,target:"_blank",rel:"noopener noreferrer",download:""},[v,(0,a.Uk)(" Descargar ")],8,y)])),"cell(accion)":(0,a.w5)((({item:e})=>[(0,a.Wm)(C,{onClick:l=>W.editInfografia(e),variant:"info"},{default:(0,a.w5)((()=>[(0,a.Uk)("Editar")])),_:2},1032,["onClick"])])),_:1},8,["items","fields","per-page","current-page","sort-by","sort-desc","filter","filter-included-fields","onFiltered"])]),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a._)("div",D,[(0,a._)("ul",F,[(0,a.Wm)(O,{modelValue:I.currentPageInfografia,"onUpdate:modelValue":l[5]||(l[5]=e=>I.currentPageInfografia=e),"total-rows":I.totalRowsInfografia,"per-page":I.perPageInfografia},null,8,["modelValue","total-rows","per-page"])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(P,{ref:"VideoModal"},null,512),(0,a.Wm)(T,{ref:"InfografiaModal"},null,512)])),_:1})}t(560);var I=t(4642),W=t(1022),z=t(9963),A=t(3577),B=t(2381);const U={class:"list-unstyled mb-0",id:"dropzone-preview2"},V={class:"mt-2",id:"dropzone-preview-list2"},x={class:"border rounded mb-1"},C={class:"d-flex p-2"},R={class:"flex-shrink-0 me-3"},O={class:"avatar-sm bg-light rounded"},M=["src"],S={key:0},P={class:"list-unstyled mb-0",id:"dropzone-preview2"},T={class:"mt-2",id:"dropzone-preview-list2"},E={class:"d-flex p-2"},N=(0,a._)("div",{class:"flex-shrink-0 me-3"},[(0,a._)("div",{class:"avatar-sm bg-light rounded"},[(0,a._)("img",{class:"img-fluid rounded d-block",src:B,alt:"Dropzone-Image"})])],-1),$={class:"flex-grow-1"},L={class:"pt-1"},Z={class:"fs-md mb-1"},j={class:"fs-sm text-muted mb-0"},q=(0,a._)("strong",{class:"error text-danger"},null,-1),G={class:"flex-shrink-0 ms-3"};function K(e,l,t,o,i,r){const s=(0,a.up)("BCardTitle"),n=(0,a.up)("BFormInput"),d=(0,a.up)("BFormGroup"),u=(0,a.up)("BCol"),f=(0,a.up)("BRow"),m=(0,a.up)("BCardBody"),c=(0,a.up)("BCard"),p=(0,a.up)("DropZone"),g=(0,a.up)("BButton"),h=(0,a.up)("BModal");return(0,a.wg)(),(0,a.j4)(h,{modelValue:i.isOpen,"onUpdate:modelValue":l[6]||(l[6]=e=>i.isOpen=e),size:"xl","hide-footer":""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Editar Video")])),_:1}),(0,a._)("form",{class:"needs-validation",onSubmit:l[5]||(l[5]=(0,z.iM)(((...e)=>r.submit&&r.submit(...e)),["prevent"]))},[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lg:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Nombre de Video","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",modelValue:i.form.title,"onUpdate:modelValue":l[0]||(l[0]=e=>i.form.title=e),placeholder:"NOMBRE DE VIDEO",required:"",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{lg:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Autor","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:i.form.Autor,"onUpdate:modelValue":l[1]||(l[1]=e=>i.form.Autor=e),required:"",type:"text",id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{lg:"3"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Imagen "),(0,a._)("ul",U,[(0,a._)("li",V,[(0,a._)("div",x,[(0,a._)("div",C,[(0,a._)("div",R,[(0,a._)("div",O,[(0,a._)("img",{class:"img-fluid rounded d-block",src:e.storage+i.form.url,alt:""},null,8,M)])])])])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(u,{lg:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[0==i.galleryFiles.length?((0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(p,{files:"files",cloudIcon:"remix",dropzoneFile:"galleryDropzoneFile",isMultiple:!0,onDrop:l[2]||(l[2]=(0,z.iM)((e=>r.galleryDrop(e)),["prevent"])),onChange:r.gallerySelectedFile,onDragenter:l[3]||(l[3]=(0,z.iM)((()=>{}),["prevent"])),onDragover:l[4]||(l[4]=(0,z.iM)((()=>{}),["prevent"]))},null,8,["onChange"])])):(0,a.kq)("",!0),(0,a._)("ul",P,[(0,a._)("li",T,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.galleryFiles,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"border rounded mb-1",key:l},[(0,a._)("div",E,[N,(0,a._)("div",$,[(0,a._)("div",L,[(0,a._)("h5",Z,"   "+(0,A.zw)(e.name),1),(0,a._)("p",j,[(0,a._)("strong",null,(0,A.zw)(e.size/1024),1),(0,a.Uk)(" KB ")]),q])]),(0,a._)("div",G,[(0,a.Wm)(g,{size:"sm",variant:"danger",onClick:()=>r.deleteRecord(e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Delete")])),_:2},1032,["onClick"])])])])))),128))])])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"submit",variant:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Guardar")])),_:1})])),_:1})])),_:1})],32)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var Q=t(79),Y={components:{DropZone:Q.Z},data(){return{title:"NUEVA INFOGRAFÍA",isOpen:!1,items:[{text:"Infografías",href:"/infografias/create"},{text:"Nueva Inforgrafía",active:!0}],form:{},dPDefaultDate:null,galleryDropzoneFile:"",galleryFiles:[],DropFile:[]}},async created(){this.initForm()},methods:{open(e){console.log(e),this.storage=this.$storageURL+"/",this.isOpen=!0,this.form={...e}},close(){this.isOpen=!1,this.selectedItem=null},initForm(){const e=JSON.parse(localStorage.getItem("user"));console.log(e),this.form={},this.dPDefaultDate=null,this.galleryDropzoneFile="",this.galleryFiles=[],this.DropFile=[]},deleteRecord(e){console.log("call Delet"),e.id&&(this.galleryFiles=this.galleryFiles.filter((l=>l.id!=e.id)))},galleryDrop(e){e.preventDefault(),this.galleryDropzoneFile=e.dataTransfer.files,this.galleryFiles.push(this.galleryDropzoneFile)},gallerySelectedFile(){this.galleryDropzoneFile=document.querySelector(".galleryDropzoneFile").files,this.DropFile.push(this.galleryDropzoneFile);const e=Object.values(this.galleryDropzoneFile).map((e=>({name:e.name,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,webkitRelativePath:e.webkitRelativePath,size:e.size})));this.galleryFiles.push(...e),this.galleryFiles=this.galleryFiles.map(((e,l)=>({id:l+1,...e})))},async submit(){let e=new FormData;if(Object.keys(this.form).forEach((l=>{e.append(l,this.form[l])})),this.DropFile&&this.DropFile.length>0)for(let l=0;l<this.DropFile.length;l++)e.append("file",this.DropFile[l][0]);console.log(e),this.$http.post(this.$apiURL+"video/store",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200==e.status&&(console.log(e),this.$swal({title:"Completado!",text:e.data.message,icon:"success",confirmButtonColor:"#6457A2"}),setTimeout((()=>{window.location.reload()}),2e3))})).catch((e=>{console.error(e),this.$swal({icon:"error",title:"Oops...",text:e})}))}}},J=t(3744);const H=(0,J.Z)(Y,[["render",K]]);var X=H;const ee={class:"list-unstyled mb-0",id:"dropzone-preview2"},le={class:"mt-2",id:"dropzone-preview-list2"},te={class:"border rounded mb-1"},ae={class:"d-flex p-2"},oe={class:"flex-shrink-0 me-3"},ie={class:"avatar-sm bg-light rounded"},re=["src"],se={key:0},ne={class:"list-unstyled mb-0",id:"dropzone-preview2"},de={class:"mt-2",id:"dropzone-preview-list2"},ue={class:"d-flex p-2"},fe=(0,a._)("div",{class:"flex-shrink-0 me-3"},[(0,a._)("div",{class:"avatar-sm bg-light rounded"},[(0,a._)("img",{class:"img-fluid rounded d-block",src:B,alt:"Dropzone-Image"})])],-1),me={class:"flex-grow-1"},ce={class:"pt-1"},pe={class:"fs-md mb-1"},ge={class:"fs-sm text-muted mb-0"},he=(0,a._)("strong",{class:"error text-danger"},null,-1),we={class:"flex-shrink-0 ms-3"};function _e(e,l,t,o,i,r){const s=(0,a.up)("BCardTitle"),n=(0,a.up)("BFormInput"),d=(0,a.up)("BFormGroup"),u=(0,a.up)("BCol"),f=(0,a.up)("BRow"),m=(0,a.up)("BCardBody"),c=(0,a.up)("BCard"),p=(0,a.up)("DropZone"),g=(0,a.up)("BButton"),h=(0,a.up)("BModal");return(0,a.wg)(),(0,a.j4)(h,{modelValue:i.isOpen,"onUpdate:modelValue":l[6]||(l[6]=e=>i.isOpen=e),size:"xl","hide-footer":""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Editar Infografía")])),_:1}),(0,a._)("form",{class:"needs-validation",onSubmit:l[5]||(l[5]=(0,z.iM)(((...e)=>r.submit&&r.submit(...e)),["prevent"]))},[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lg:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Nombre de Infografía","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",modelValue:i.form.title,"onUpdate:modelValue":l[0]||(l[0]=e=>i.form.title=e),placeholder:"NOMBRE DE INFOGRAFÍA",required:"",id:"formrow-firstname-input"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{lg:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Autor","label-for":"formrow-firstname-input",class:"mb-12"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:i.form.Autor,"onUpdate:modelValue":l[1]||(l[1]=e=>i.form.Autor=e),required:"",type:"text",id:"formrow-firstname-input",disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{lg:"3"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Imagen "),(0,a._)("ul",ee,[(0,a._)("li",le,[(0,a._)("div",te,[(0,a._)("div",ae,[(0,a._)("div",oe,[(0,a._)("div",ie,[(0,a._)("img",{class:"img-fluid rounded d-block",src:e.storage+i.form.url,alt:""},null,8,re)])])])])])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(u,{lg:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"no-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[0==i.galleryFiles2.length?((0,a.wg)(),(0,a.iD)("div",se,[(0,a.Wm)(p,{files:"files",cloudIcon:"remix",dropzoneFile:"galleryDropzoneFile2",isMultiple:!0,onDrop:l[2]||(l[2]=(0,z.iM)((e=>r.galleryDrop(e)),["prevent"])),onChange:r.gallerySelectedFile2,onDragenter:l[3]||(l[3]=(0,z.iM)((()=>{}),["prevent"])),onDragover:l[4]||(l[4]=(0,z.iM)((()=>{}),["prevent"]))},null,8,["onChange"])])):(0,a.kq)("",!0),(0,a._)("ul",ne,[(0,a._)("li",de,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.galleryFiles2,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"border rounded mb-1",key:l},[(0,a._)("div",ue,[fe,(0,a._)("div",me,[(0,a._)("div",ce,[(0,a._)("h5",pe,"   "+(0,A.zw)(e.name),1),(0,a._)("p",ge,[(0,a._)("strong",null,(0,A.zw)(e.size/1024),1),(0,a.Uk)(" KB ")]),he])]),(0,a._)("div",we,[(0,a.Wm)(g,{size:"sm",variant:"danger",onClick:()=>r.deleteRecord(e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Delete")])),_:2},1032,["onClick"])])])])))),128))])])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"submit",variant:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Guardar")])),_:1})])),_:1})])),_:1})],32)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var be={components:{DropZone:Q.Z},data(){return{title:"NUEVA INFOGRAFÍA",isOpen:!1,items:[{text:"Infografías",href:"/infografias/create"},{text:"Nueva Inforgrafía",active:!0}],form:{},dPDefaultDate:null,galleryDropzoneFile2:"",galleryFiles2:[],DropFile2:[]}},async created(){this.initForm()},methods:{open(e){this.storage=this.$storageURL+"/",this.isOpen=!0,this.form={...e}},close(){this.isOpen=!1,this.selectedItem=null},initForm(){const e=JSON.parse(localStorage.getItem("user"));console.log(e),this.form={},this.dPDefaultDate=null,this.galleryDropzoneFile2="",this.galleryFiles2=[],this.DropFile2=[]},deleteRecord(e){console.log("call Delet"),e.id&&(this.galleryFiles2=this.galleryFiles2.filter((l=>l.id!=e.id)))},galleryDrop(e){e.preventDefault(),this.galleryDropzoneFile2=e.dataTransfer.files,this.galleryFiles2.push(this.galleryDropzoneFile2)},gallerySelectedFile2(){this.galleryDropzoneFile2=document.querySelector(".galleryDropzoneFile2").files,this.DropFile2.push(this.galleryDropzoneFile2);const e=Object.values(this.galleryDropzoneFile2).map((e=>({name:e.name,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,webkitRelativePath:e.webkitRelativePath,size:e.size})));this.galleryFiles2.push(...e),this.galleryFiles2=this.galleryFiles2.map(((e,l)=>({id:l+1,...e})))},async submit(){let e=new FormData;if(Object.keys(this.form).forEach((l=>{e.append(l,this.form[l])})),this.DropFile2&&this.DropFile2.length>0)for(let l=0;l<this.DropFile2.length;l++)e.append("file",this.DropFile2[l][0]);console.log(e),this.$http.post(this.$apiURL+"infographic/store",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200==e.status&&(console.log(e),this.$swal({title:"Completado!",text:e.data.message,icon:"success",confirmButtonColor:"#6457A2"}),setTimeout((()=>{window.location.reload()}),2e3))})).catch((e=>{console.error(e),this.$swal({icon:"error",title:"Oops...",text:e})}))}}};const ye=(0,J.Z)(be,[["render",_e]]);var ve=ye,De={components:{Layout:I.Z,PageHeader:W.Z,InfografiaModal:ve,VideoModal:X},data(){return{title:"Infografías",items:[{text:"Infografías",href:"/infografias/index"},{text:"Listado",active:!0}],tableData:[],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:[{key:"id",sortable:!0},{key:"title",sortable:!0},{key:"url",sortable:!0},{key:"Autor",sortable:!0},{key:"accion"}],tableInfografia:[],totalRowsInfografia:1,currentPageInfografia:1,perPageInfografia:10,pageOptionsInfografia:[10,25,50,100],filterInfografia:null,filterOnInfografia:[],sortByInfografia:"age",sortDescInfografia:!1,fieldsInfografia:[{key:"id",sortable:!0},{key:"title",sortable:!0},{key:"url",sortable:!0},{key:"Autor",sortable:!0},{key:"accion"}]}},mounted(){this.totalRows=this.tableData.length,this.totalRowsInfografia=this.tableInfografia.length,this.getData(),this.getInfografia()},methods:{onFiltered(e){this.totalRows=e.length,this.currentPage=1},onFilteredInfografia(e){this.totalRowsInfografia=e.length,this.currentPageInfografia=1},async getData(){try{const e=await this.$http.get(this.$apiURL+"video/all");e.data.data.map((e=>this.tableData.push({...e}))),this.totalRows=this.tableData.length}catch(e){console.error(e)}},async getInfografia(){try{const e=await this.$http.get(this.$apiURL+"infographic/all");e.data.data.map((e=>this.tableInfografia.push({...e}))),this.totalRowsInfografia=this.tableInfografia.length}catch(e){console.error(e)}},editItem(e){this.selectedItem=JSON.parse(JSON.stringify(e)),this.$refs.VideoModal.open(this.selectedItem)},editInfografia(e){this.selectedItem=JSON.parse(JSON.stringify(e)),this.$refs.InfografiaModal.open(this.selectedItem)}}};const Fe=(0,J.Z)(De,[["render",k]]);var ke=Fe},2381:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAA+klEQVR4nO1ZSw6CUAzkGpzKSDyLhzDBV0+En1XLzpsYXbQrDQGNMTEE0FfQmWTWzHSmfQuSBAAAYNRYl7og0T2xXkjsGoVcfUt3QTQbJD6wUTTR8pb5gMm7i782icx7TF8P7sKlZmDddjYQtfPSauDc3cAIhNMTYYCQgI2rQuny+FESDLzAu/OEKyTf3QH3BNKpGyDsgE27QngH2uDdecISy4+f0XTqBgg7YNOuEN6BNnh3nrDE4j91+uszGljP3qKpYRA99UhAd97C6U62onsCopm7cKm5KXXW2UCdguXe4olt1Uv8wwTrvIow+i8mtqL35AEAAJJYuAH+VvCKQX6pigAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=716.0deba7b7.js.map